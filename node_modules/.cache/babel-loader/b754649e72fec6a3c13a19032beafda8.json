{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sale1\\\\Desktop\\\\SHOPTIME\\\\src\\\\components\\\\CartItem.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport moment from 'moment';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst CartItem = ({\n  item,\n  count,\n  update_item,\n  remove_item,\n  setAlert,\n  render,\n  setRender,\n  showViewProduct = true,\n  showRemoveProduct = true,\n  showUpdateProduct = true,\n  showQuantity = false\n}) => {\n  _s();\n\n  const [formData, setFormData] = useState({\n    item_count: 1\n  });\n  const {\n    item_count\n  } = formData;\n  useEffect(() => {\n    if (count) setFormData({ ...formData,\n      item_count: count\n    });\n  }, [count]);\n\n  const onChange = e => setFormData({ ...formData,\n    [e.target.name]: e.target.value\n  });\n\n  const onSubmit = e => {\n    e.preventDefault();\n\n    const fetchData = async () => {\n      try {\n        if (item.product.quantity >= item_count) {\n          await update_item(item, item_count);\n        } else {\n          setAlert('Not enough in stock', 'danger');\n        }\n\n        setRender(!render);\n      } catch (err) {}\n    };\n\n    fetchData();\n  };\n\n  const quantityOrdered = () => {\n    if (showQuantity && count) {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mt-3 text-muted\",\n        children: [\"Quantity Requested: \", count]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this);\n    }\n  };\n\n  const showAdjustQuantityButton = () => {\n    if (showUpdateProduct) {\n      return /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: e => onSubmit(e),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"item_count\",\n            children: \"Adjust Quantity\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            className: \"form-control\",\n            name: \"item_count\",\n            onChange: e => onChange(e),\n            value: item_count,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"8\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"9\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-warning mb-3\",\n          type: \"submit\",\n          children: \"Update Quantity\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this);\n    }\n  };\n\n  const showViewProductButton = () => {\n    if (showViewProduct) {\n      return /*#__PURE__*/_jsxDEV(Link, {\n        to: `/product/${item && item !== null && item !== undefined && item.product && item.product !== null && item.product !== undefined ? item.product.id : 0}`,\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-outline-primary mt-2 mb-2 mr-2\",\n          children: \"View Product\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }, this);\n    }\n  };\n\n  const removeItemHandler = async () => {\n    await remove_item(item);\n    setRender(!render);\n  };\n\n  const showRemoveProductButton = () => {\n    if (showRemoveProduct) {\n      return /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-outline-danger mt-2 mb-2\",\n        onClick: removeItemHandler,\n        children: \"Remove Product\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 17\n      }, this);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card mb-5\",\n    style: {\n      padding: '20px 30px'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-3\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            height: '180px',\n            overflow: 'hidden'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"card-img-top\",\n            alt: \"Product Visual\",\n            src: item && item !== null && item !== undefined && item.product && item.product !== null && item.product !== undefined ? item.product.photo : ''\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n          className: \"card-title\",\n          children: item && item !== null && item !== undefined && item.product && item.product !== null && item.product !== undefined && item.product.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"card-text mt-3\",\n          children: [item && item !== null && item !== undefined && item.product && item.product !== null && item.product !== undefined && item.product.description.substring(0, 100), \"...\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 21\n        }, this), quantityOrdered(), showAdjustQuantityButton(), showViewProductButton(), showRemoveProductButton()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"card-text text-muted\",\n          children: \"Price:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"mr-2 text-muted\",\n            style: {\n              textDecoration: 'line-through',\n              fontSize: '16px'\n            },\n            children: [\"$\", item && item !== null && item !== undefined && item.product && item.product !== null && item.product !== undefined && item.product.compare_price]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              fontSize: '18px',\n              color: '#b12704'\n            },\n            children: [\"$\", item && item !== null && item !== undefined && item.product && item.product !== null && item.product !== undefined && item.product.price]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"card-text text-muted mt-5\",\n          children: item && item !== null && item !== undefined && item.product && item.product !== null && item.product !== undefined && item.product.quantity > 0 ? /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-success\",\n            children: \"In Stock\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 33\n          }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-danger\",\n            children: \"Out of Stock\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"card-text text-muted\",\n          children: [\"Added \", moment(item && item !== null && item !== undefined && item.product && item.product !== null && item.product !== undefined ? item.product.date_created : '').fromNow()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 134,\n    columnNumber: 9\n  }, this);\n};\n\n_s(CartItem, \"+pVU5UM6pELSkr+fcz3wDA0t4Lo=\");\n\n_c = CartItem;\nexport default CartItem;\n\nvar _c;\n\n$RefreshReg$(_c, \"CartItem\");","map":{"version":3,"sources":["C:/Users/sale1/Desktop/SHOPTIME/src/components/CartItem.js"],"names":["React","useState","useEffect","Link","moment","CartItem","item","count","update_item","remove_item","setAlert","render","setRender","showViewProduct","showRemoveProduct","showUpdateProduct","showQuantity","formData","setFormData","item_count","onChange","e","target","name","value","onSubmit","preventDefault","fetchData","product","quantity","err","quantityOrdered","showAdjustQuantityButton","showViewProductButton","undefined","id","removeItemHandler","showRemoveProductButton","padding","height","overflow","photo","description","substring","textDecoration","fontSize","compare_price","color","price","date_created","fromNow"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport moment from 'moment';\r\n\r\nconst CartItem = ({\r\n    item,\r\n    count,\r\n    update_item,\r\n    remove_item,\r\n    setAlert,\r\n    render,\r\n    setRender,\r\n    showViewProduct = true,\r\n    showRemoveProduct = true,\r\n    showUpdateProduct = true,\r\n    showQuantity = false\r\n}) => {\r\n    const [formData, setFormData] = useState({\r\n        item_count: 1\r\n    });\r\n\r\n    const { item_count } = formData;\r\n\r\n    useEffect(() => {\r\n        if (count)\r\n            setFormData({ ...formData, item_count: count });\r\n    }, [count]);\r\n\r\n    const onChange = e => setFormData({ ...formData, [e.target.name]: e.target.value });\r\n\r\n    const onSubmit = e => {\r\n        e.preventDefault();\r\n\r\n        const fetchData = async () => {\r\n            try {\r\n                if (item.product.quantity >= item_count) {\r\n                    await update_item(item, item_count);\r\n                }\r\n                else {\r\n                    setAlert('Not enough in stock', 'danger');\r\n                }\r\n                setRender(!render);\r\n            } catch(err) {\r\n\r\n            }\r\n        };\r\n\r\n        fetchData();\r\n    };\r\n\r\n    const quantityOrdered = () => {\r\n        if (showQuantity && count) {\r\n            return (\r\n                <p className='mt-3 text-muted'>\r\n                    Quantity Requested: {count}\r\n                </p>\r\n            );\r\n        }\r\n    };\r\n\r\n    const showAdjustQuantityButton = () => {\r\n        if (showUpdateProduct) {\r\n            return (\r\n                <form onSubmit={e => onSubmit(e)}>\r\n                    <div className='form-group'>\r\n                        <label htmlFor='item_count'>Adjust Quantity</label>\r\n                        <select \r\n                            className='form-control' \r\n                            name='item_count' \r\n                            onChange={e => onChange(e)}\r\n                            value={item_count}\r\n                        >\r\n                            <option>1</option>\r\n                            <option>2</option>\r\n                            <option>3</option>\r\n                            <option>4</option>\r\n                            <option>5</option>\r\n                            <option>6</option>\r\n                            <option>7</option>\r\n                            <option>8</option>\r\n                            <option>9</option>\r\n                        </select>\r\n                    </div>\r\n                    <button \r\n                        className='btn btn-warning mb-3'\r\n                        type='submit'\r\n                    >\r\n                        Update Quantity\r\n                    </button>\r\n                </form>\r\n            );\r\n        }\r\n    };\r\n\r\n    const showViewProductButton = () => {\r\n        if (showViewProduct) {\r\n            return (\r\n                <Link to={`/product/${\r\n                    item &&\r\n                    item !== null &&\r\n                    item !== undefined &&\r\n                    item.product &&\r\n                    item.product !== null &&\r\n                    item.product !== undefined ? \r\n                    item.product.id : 0\r\n                }`}>\r\n                    <button className='btn btn-outline-primary mt-2 mb-2 mr-2'>\r\n                        View Product\r\n                    </button>\r\n                </Link>\r\n            );\r\n        }\r\n    };\r\n\r\n    const removeItemHandler = async () => {\r\n        await remove_item(item);\r\n        setRender(!render);\r\n    };\r\n\r\n    const showRemoveProductButton = () => {\r\n        if (showRemoveProduct) {\r\n            return (\r\n                <button\r\n                    className='btn btn-outline-danger mt-2 mb-2'\r\n                    onClick={removeItemHandler}\r\n                >\r\n                    Remove Product\r\n                </button>\r\n            );\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className='card mb-5' style={{ padding: '20px 30px' }}>\r\n            <div className='row'>\r\n                <div className='col-3'>\r\n                    <div style={{ height: '180px', overflow: 'hidden' }}>\r\n                        <img\r\n                            className='card-img-top'\r\n                            alt='Product Visual'\r\n                            src={\r\n                                item &&\r\n                                item !== null &&\r\n                                item !== undefined &&\r\n                                item.product &&\r\n                                item.product !== null &&\r\n                                item.product !== undefined ?\r\n                                item.product.photo : ''\r\n                            }\r\n                        />\r\n                    </div>\r\n                </div>\r\n                <div className='col-6'>\r\n                    <h6 className='card-title'>\r\n                        {\r\n                            item &&\r\n                            item !== null &&\r\n                            item !== undefined &&\r\n                            item.product &&\r\n                            item.product !== null &&\r\n                            item.product !== undefined &&\r\n                            item.product.name\r\n                        }\r\n                    </h6>\r\n                    <p className='card-text mt-3'>\r\n                        {\r\n                            item &&\r\n                            item !== null &&\r\n                            item !== undefined &&\r\n                            item.product &&\r\n                            item.product !== null &&\r\n                            item.product !== undefined &&\r\n                            item.product.description.substring(0, 100)\r\n                        }...\r\n                    </p>\r\n                    {quantityOrdered()}\r\n                    {showAdjustQuantityButton()}\r\n                    {showViewProductButton()}\r\n                    {showRemoveProductButton()}\r\n                </div>\r\n                <div className='col-3'>\r\n                    <p className='card-text text-muted'>\r\n                        Price:\r\n                    </p>\r\n                    <p>\r\n                        <span\r\n                            className='mr-2 text-muted'\r\n                            style={{ textDecoration: 'line-through', fontSize: '16px' }}\r\n                        >\r\n                            ${\r\n                                item &&\r\n                                item !== null &&\r\n                                item !== undefined &&\r\n                                item.product &&\r\n                                item.product !== null &&\r\n                                item.product !== undefined &&\r\n                                item.product.compare_price\r\n                            }\r\n                        </span>\r\n                        <span\r\n                            style={{ fontSize: '18px', color: '#b12704' }}\r\n                        >\r\n                            ${\r\n                                item &&\r\n                                item !== null &&\r\n                                item !== undefined &&\r\n                                item.product &&\r\n                                item.product !== null &&\r\n                                item.product !== undefined &&\r\n                                item.product.price\r\n                            }\r\n                        </span>\r\n                    </p>\r\n                    <p className='card-text text-muted mt-5'>\r\n                        {\r\n                            item &&\r\n                            item !== null &&\r\n                            item !== undefined &&\r\n                            item.product &&\r\n                            item.product !== null &&\r\n                            item.product !== undefined &&\r\n                            item.product.quantity > 0 ? (\r\n                                <span className='text-success'>\r\n                                    In Stock\r\n                                </span>\r\n                            ) : (\r\n                                <span className='text-danger'>\r\n                                    Out of Stock\r\n                                </span>\r\n                            )\r\n                        }\r\n                    </p>\r\n                    <p className='card-text text-muted'>\r\n                        Added {\r\n                            moment(\r\n                                item &&\r\n                                item !== null &&\r\n                                item !== undefined &&\r\n                                item.product &&\r\n                                item.product !== null &&\r\n                                item.product !== undefined ? (\r\n                                    item.product.date_created\r\n                                ) : (\r\n                                    ''\r\n                                )\r\n                            ).fromNow()\r\n                        }\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CartItem;"]},"metadata":{},"sourceType":"module"}