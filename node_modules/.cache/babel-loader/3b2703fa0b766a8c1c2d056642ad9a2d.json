{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sale1\\\\Desktop\\\\SHOPTIME\\\\src\\\\components\\\\Navbar.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, Fragment, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\nimport { logout } from '../actions/auth';\nimport { get_categories } from '../actions/categories';\nimport { get_search_products } from '../actions/products';\nimport { Link, NavLink } from 'react-router-dom';\nimport Alert from './Alert';\nimport SearchBox from './SearchBox';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Navbar = ({\n  isAuthenticated,\n  logout,\n  categories,\n  get_categories,\n  get_search_products,\n  setSearchRedirect,\n  total_items,\n  total_wishlist_items\n}) => {\n  _s();\n\n  const [render, setRender] = useState(false);\n  const [redirect, setRedirect] = useState(false);\n  const [formData, setFormData] = useState({\n    category_id: 0,\n    search: ''\n  });\n  const {\n    category_id,\n    search\n  } = formData;\n  useEffect(() => {\n    get_categories();\n  }, []);\n  useEffect(() => {\n    setSearchRedirect(false);\n  }, [render]);\n\n  const onChange = e => setFormData({ ...formData,\n    [e.target.name]: e.target.value\n  });\n\n  const onSubmit = e => {\n    e.preventDefault();\n    get_search_products(search, category_id);\n    setSearchRedirect(true);\n    setRender(!render);\n  };\n\n  const logoutHandler = () => {\n    logout();\n    setRedirect(true);\n  };\n\n  const authLinks = /*#__PURE__*/_jsxDEV(\"li\", {\n    className: \"nav-item\",\n    children: /*#__PURE__*/_jsxDEV(\"a\", {\n      className: \"nav-link mt-1\",\n      onClick: logoutHandler,\n      href: \"#!\",\n      children: \"Logout\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 9\n  }, this);\n\n  const guestLinks = /*#__PURE__*/_jsxDEV(Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"li\", {\n      className: \"nav-item\",\n      children: /*#__PURE__*/_jsxDEV(NavLink, {\n        className: \"nav-link mt-1\",\n        to: \"/login\",\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n      className: \"nav-item\",\n      children: /*#__PURE__*/_jsxDEV(NavLink, {\n        className: \"nav-link mt-1\",\n        to: \"/signup\",\n        children: \"Sign Up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 9\n  }, this);\n\n  const dashboard = () => {\n    return /*#__PURE__*/_jsxDEV(\"li\", {\n      className: \"nav-item\",\n      children: /*#__PURE__*/_jsxDEV(NavLink, {\n        className: \"nav-link mt-1\",\n        to: \"/dashboard\",\n        children: \"Dashboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }, this);\n  };\n\n  const showWishList = /*#__PURE__*/_jsxDEV(\"li\", {\n    className: \"nav-item\",\n    children: /*#__PURE__*/_jsxDEV(NavLink, {\n      className: \"nav-link mt-1\",\n      to: \"/wishlist\",\n      children: [\"Wishlist \", /*#__PURE__*/_jsxDEV(\"sup\", {\n        children: /*#__PURE__*/_jsxDEV(\"small\", {\n          style: {\n            borderRadius: '50%',\n            padding: '2px',\n            fontSize: '12px',\n            fontStyle: 'italic',\n            backgroundColor: '#777',\n            color: '#fff'\n          },\n          children: total_wishlist_items\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 26\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 101,\n    columnNumber: 9\n  }, this);\n\n  const getNavbar = () => /*#__PURE__*/_jsxDEV(\"nav\", {\n    className: \"navbar navbar-expand-lg navbar-light bg-light\",\n    children: [/*#__PURE__*/_jsxDEV(Link, {\n      className: \"navbar-brand\",\n      to: \"/\",\n      children: \"Shop Time\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"navbar-toggler\",\n      type: \"button\",\n      \"data-toggle\": \"collapse\",\n      \"data-target\": \"#navbarNav\",\n      \"aria-controls\": \"navbarNav\",\n      \"aria-expanded\": \"false\",\n      \"aria-label\": \"Toggle navigation\",\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"navbar-toggler-icon\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"collapse navbar-collapse\",\n      id: \"navbarNav\",\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"navbar-nav\",\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"nav-item\",\n          children: /*#__PURE__*/_jsxDEV(NavLink, {\n            className: \"nav-link mt-1\",\n            exact: true,\n            to: \"/\",\n            children: \"Home\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 21\n        }, this), isAuthenticated ? dashboard() : /*#__PURE__*/_jsxDEV(Fragment, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 54\n        }, this), /*#__PURE__*/_jsxDEV(SearchBox, {\n          search: search,\n          onChange: onChange,\n          onSubmit: onSubmit,\n          categories: categories\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"nav-item\",\n          children: /*#__PURE__*/_jsxDEV(NavLink, {\n            className: \"nav-link mt-1\",\n            to: \"/shop\",\n            children: \"Shop\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"nav-item\",\n          children: /*#__PURE__*/_jsxDEV(NavLink, {\n            className: \"nav-link mt-1\",\n            to: \"/cart\",\n            children: [\"Cart \", /*#__PURE__*/_jsxDEV(\"sup\", {\n              children: /*#__PURE__*/_jsxDEV(\"small\", {\n                style: {\n                  borderRadius: '50%',\n                  padding: '2px',\n                  fontSize: '12px',\n                  fontStyle: 'italic',\n                  backgroundColor: '#777',\n                  color: '#fff'\n                },\n                children: total_items\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 34\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 21\n        }, this), isAuthenticated ? showWishList : /*#__PURE__*/_jsxDEV(Fragment, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 56\n        }, this), isAuthenticated ? authLinks : guestLinks]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 124,\n    columnNumber: 9\n  }, this);\n\n  const renderNavbar = () => {\n    if (redirect) {\n      return /*#__PURE__*/_jsxDEV(Fragment, {\n        children: [getNavbar(), /*#__PURE__*/_jsxDEV(Alert, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Redirect, {\n          to: \"/\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 17\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(Fragment, {\n        children: [getNavbar(), /*#__PURE__*/_jsxDEV(Alert, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 17\n      }, this);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: renderNavbar()\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 213,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Navbar, \"A2y4fGaMW+gg94gptp9jTgYUQGw=\");\n\n_c = Navbar;\n\nconst mapStateToProps = state => ({\n  isAuthenticated: state.auth.isAuthenticated,\n  categories: state.categories.categories,\n  total_items: state.cart.total_items,\n  total_wishlist_items: state.wishlist.total_items\n});\n\nexport default connect(mapStateToProps, {\n  logout,\n  get_categories,\n  get_search_products\n})(Navbar);\n\nvar _c;\n\n$RefreshReg$(_c, \"Navbar\");","map":{"version":3,"sources":["C:/Users/sale1/Desktop/SHOPTIME/src/components/Navbar.js"],"names":["React","useState","Fragment","useEffect","connect","Redirect","logout","get_categories","get_search_products","Link","NavLink","Alert","SearchBox","Navbar","isAuthenticated","categories","setSearchRedirect","total_items","total_wishlist_items","render","setRender","redirect","setRedirect","formData","setFormData","category_id","search","onChange","e","target","name","value","onSubmit","preventDefault","logoutHandler","authLinks","guestLinks","dashboard","showWishList","borderRadius","padding","fontSize","fontStyle","backgroundColor","color","getNavbar","renderNavbar","mapStateToProps","state","auth","cart","wishlist"],"mappings":"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","sourcesContent":["import React, { useState, Fragment, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { logout } from '../actions/auth';\r\nimport { get_categories } from '../actions/categories';\r\nimport { get_search_products } from '../actions/products';\r\nimport { Link, NavLink } from 'react-router-dom';\r\nimport Alert from './Alert';\r\nimport SearchBox from './SearchBox';\r\n\r\nconst Navbar = ({\r\n    isAuthenticated,\r\n    logout,\r\n    categories,\r\n    get_categories,\r\n    get_search_products,\r\n    setSearchRedirect,\r\n    total_items,\r\n    total_wishlist_items\r\n    \r\n}) => {\r\n    const [render, setRender] = useState(false);\r\n    const [redirect, setRedirect] = useState(false);\r\n    const [formData, setFormData] = useState({\r\n        category_id: 0,\r\n        search: ''\r\n    });\r\n\r\n    const { category_id, search } = formData;\r\n\r\n    useEffect(() => {\r\n        get_categories();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        setSearchRedirect(false);\r\n    }, [render]);\r\n\r\n    const onChange = e => setFormData({...formData, [e.target.name]: e.target.value });\r\n\r\n    const onSubmit = e => {\r\n        e.preventDefault();\r\n\r\n        get_search_products(search, category_id);\r\n        setSearchRedirect(true);\r\n        setRender(!render);\r\n    };\r\n\r\n    const logoutHandler = () => {\r\n        logout()\r\n        setRedirect(true);\r\n    };\r\n\r\n    const authLinks = (\r\n        <li className='nav-item'>\r\n            <a \r\n                className='nav-link mt-1'\r\n                onClick={logoutHandler} \r\n                href='#!'\r\n            >\r\n                Logout\r\n            </a>\r\n        </li>\r\n    );\r\n\r\n    const guestLinks = (\r\n        <Fragment>\r\n            <li className='nav-item'>\r\n                <NavLink \r\n                    className='nav-link mt-1' \r\n                    to='/login'\r\n                >\r\n                    Login\r\n                </NavLink>\r\n            </li>\r\n            <li className='nav-item'>\r\n                <NavLink \r\n                    className='nav-link mt-1' \r\n                    to='/signup'\r\n                >\r\n                    Sign Up\r\n                </NavLink>\r\n            </li>\r\n        </Fragment>\r\n    );\r\n\r\n    const dashboard = () => {\r\n        return (\r\n            <li className='nav-item'>\r\n                <NavLink\r\n                    className='nav-link mt-1'\r\n                    to='/dashboard'\r\n                >\r\n                    Dashboard\r\n                </NavLink>\r\n            </li>\r\n        );\r\n    };\r\n\r\n    const showWishList = (\r\n        <li className='nav-item'>\r\n            <NavLink \r\n                className='nav-link mt-1' \r\n                to='/wishlist'\r\n            >\r\n                Wishlist <sup>\r\n                        <small\r\n                            style={{\r\n                                borderRadius: '50%',\r\n                                padding: '2px',\r\n                                fontSize: '12px',\r\n                                fontStyle: 'italic',\r\n                                backgroundColor: '#777',\r\n                                color: '#fff'\r\n                            }}\r\n                        >\r\n                            {total_wishlist_items}\r\n                        </small>\r\n                </sup>\r\n            </NavLink>\r\n        </li>\r\n    )\r\n    const getNavbar = () => (\r\n        <nav className='navbar navbar-expand-lg navbar-light bg-light'>\r\n            <Link className='navbar-brand' to='/'>Shop Time</Link>\r\n            <button \r\n                className='navbar-toggler' \r\n                type='button' \r\n                data-toggle='collapse' \r\n                data-target='#navbarNav' \r\n                aria-controls='navbarNav' \r\n                aria-expanded='false' \r\n                aria-label='Toggle navigation'\r\n            >\r\n                <span className='navbar-toggler-icon'></span>\r\n            </button>\r\n            <div className='collapse navbar-collapse' id='navbarNav'>\r\n                <ul className='navbar-nav'>\r\n                    <li className='nav-item'>\r\n                        <NavLink \r\n                            className='nav-link mt-1' \r\n                            exact\r\n                            to='/'\r\n                        >\r\n                            Home\r\n                        </NavLink>\r\n                    </li>\r\n                    {isAuthenticated ? dashboard() : <Fragment></Fragment>}\r\n                    <SearchBox \r\n                        search={search}\r\n                        onChange={onChange}\r\n                        onSubmit={onSubmit}\r\n                        categories={categories}\r\n                    />\r\n                    <li className='nav-item'>\r\n                        <NavLink \r\n                            className='nav-link mt-1' \r\n                            to='/shop'\r\n                        >\r\n                            Shop\r\n                        </NavLink>\r\n                    </li>\r\n                    <li className='nav-item'>\r\n                        <NavLink \r\n                            className='nav-link mt-1' \r\n                            to='/cart'\r\n                        >\r\n                            Cart <sup>\r\n                                    <small\r\n                                        style={{\r\n                                            borderRadius: '50%',\r\n                                            padding: '2px',\r\n                                            fontSize: '12px',\r\n                                            fontStyle: 'italic',\r\n                                            backgroundColor: '#777',\r\n                                            color: '#fff'\r\n                                        }}\r\n                                    >\r\n                                        {total_items}\r\n                                    </small>\r\n                            </sup>\r\n                        </NavLink>\r\n                    </li>\r\n                    { isAuthenticated ? showWishList : <Fragment></Fragment> }\r\n                    {\r\n                        isAuthenticated ? authLinks : guestLinks\r\n                    }\r\n                </ul>\r\n            </div>\r\n        </nav>\r\n    );\r\n\r\n    const renderNavbar = () => {\r\n        if (redirect) {\r\n            return (\r\n                <Fragment>\r\n                    {getNavbar()}\r\n                    <Alert />\r\n                    <Redirect to='/' />\r\n                </Fragment>\r\n            );\r\n        } else {\r\n            return (\r\n                <Fragment>\r\n                    {getNavbar()}\r\n                    <Alert />\r\n                </Fragment>\r\n            );\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Fragment>\r\n            {renderNavbar()}\r\n        </Fragment>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    isAuthenticated: state.auth.isAuthenticated,\r\n    categories: state.categories.categories,\r\n    total_items: state.cart.total_items,\r\n    total_wishlist_items: state.wishlist.total_items,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n    logout,\r\n    get_categories,\r\n    get_search_products\r\n})(Navbar);"]},"metadata":{},"sourceType":"module"}