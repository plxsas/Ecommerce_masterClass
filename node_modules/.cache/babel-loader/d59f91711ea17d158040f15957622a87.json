{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sale1\\\\Desktop\\\\SHOPTIME\\\\src\\\\containers\\\\Dashboard.js\",\n    _s = $RefreshSig$();\n\nimport React, { Fragment, useState, useEffect } from 'react';\nimport { Helmet } from \"react-helmet\";\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { get_items, get_total, get_item_total } from '../actions/cart';\nimport { list_orders } from '../actions/orders';\nimport { get_user_profile, update_user_profile } from '../actions/profile';\nimport moment from 'moment';\nimport UserProfileForm from '../components/UserProfileForm';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Dashboard = ({\n  get_items,\n  get_total,\n  get_item_total,\n  list_orders,\n  orders,\n  user,\n  profile,\n  get_user_profile,\n  update_user_profile\n}) => {\n  _s();\n\n  const [display, setDisplay] = useState('user_info');\n  const [formData, setFormData] = useState({\n    address_line_1: '',\n    address_line_2: '',\n    city: '',\n    state_province_region: '',\n    zipcode: '',\n    phone: '',\n    country_region: 'Canada'\n  });\n  const {\n    address_line_1,\n    address_line_2,\n    city,\n    state_province_region,\n    zipcode,\n    phone,\n    country_region\n  } = formData;\n\n  const onChange = e => setFormData({ ...formData,\n    [e.target.name]: e.target.value\n  });\n\n  const onSubmit = e => {\n    e.preventDefault();\n    update_user_profile(address_line_1, address_line_2, city, state_province_region, zipcode, phone, country_region);\n    window.scrollTo(0, 0);\n  };\n\n  useEffect(() => {\n    get_user_profile();\n  }, []);\n  useEffect(() => {\n    if (user) {\n      get_items();\n      get_total();\n      get_item_total();\n      list_orders();\n    }\n  }, [user]);\n  useEffect(() => {\n    if (profile && profile !== null && profile !== undefined) {\n      setFormData({\n        address_line_1: profile.address_line_1,\n        address_line_2: profile.address_line_2,\n        city: profile.city,\n        state_province_region: profile.state_province_region,\n        zipcode: profile.zipcode,\n        phone: profile.phone,\n        country_region: profile.country_region\n      });\n    }\n  }, [profile]);\n\n  const showStatus = status => {\n    if (status === 'not_processed') {\n      return 'Not Processed';\n    } else if (status === 'processed') {\n      return 'Processed';\n    } else if (status === 'shipping') {\n      return 'Shipping';\n    } else if (status === 'delivered') {\n      return 'Delivered';\n    } else if (status === 'cancelled') {\n      return 'Cancelled';\n    }\n  };\n\n  const userInfo = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card mb-5\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"card-header\",\n        children: \"User Information\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"list-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"list-group-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"First Name: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 25\n          }, this), user && user !== null && user !== undefined ? user.first_name : /*#__PURE__*/_jsxDEV(Fragment, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 47\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"list-group-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Last Name: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 25\n          }, this), user && user !== null && user !== undefined ? user.last_name : /*#__PURE__*/_jsxDEV(Fragment, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 46\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"list-group-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Email: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 25\n          }, this), user && user !== null && user !== undefined ? user.email : /*#__PURE__*/_jsxDEV(Fragment, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 42\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 13\n    }, this);\n  };\n\n  const purchaseHistory = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card mb-5\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"card-header\",\n        children: \"Purchase History\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body\",\n        children: orders && orders !== null && orders !== undefined && orders.map((order, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"mb-3\",\n            style: {\n              color: '#b12704',\n              fontSize: '24px'\n            },\n            children: [\"Order \", index + 1]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"list-group mb-3\",\n            children: /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"list-group-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-muted mb-3\",\n                  style: {\n                    fontSize: '18px'\n                  },\n                  children: [\"Order Status: \", showStatus(order.status)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 175,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-muted mb-3\",\n                  style: {\n                    fontSize: '18px'\n                  },\n                  children: \"Order Details:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 183,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                  className: \"list-group mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                    className: \"list-group-item\",\n                    children: [\"Transaction ID: \", order.transaction_id]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 192,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    className: \"list-group-item\",\n                    children: [\"Total Cost of Order: $\", order.amount.toFixed(2)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 195,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 191,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-muted mb-3\",\n                  style: {\n                    fontSize: '18px'\n                  },\n                  children: \"Additional Info:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 199,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                  className: \"list-group mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                    className: \"list-group-item\",\n                    children: [\"Shipping Price: $\", order.shipping_price.toFixed(2)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 208,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    className: \"list-group-item\",\n                    children: [\"Order Created: \", moment(order.date_issued).fromNow()]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 211,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 207,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(Link, {\n                className: \"btn btn-info\",\n                to: `/dashboard/order-detail/${order.transaction_id}`,\n                children: \"Order Details\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 216,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 33\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 29\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 13\n    }, this);\n  };\n\n  const userProfile = () => {\n    if (profile && profile !== null && profile !== undefined) {\n      return /*#__PURE__*/_jsxDEV(UserProfileForm, {\n        address_line_1: address_line_1,\n        address_line_2: address_line_2,\n        city: city,\n        state_province_region: state_province_region,\n        zipcode: zipcode,\n        phone: phone,\n        country_region: country_region,\n        onChange: onChange,\n        onSubmit: onSubmit,\n        profile: profile\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 17\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(Fragment, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 17\n      }, this);\n    }\n  };\n\n  const renderData = () => {\n    if (display === 'user_info') {\n      return /*#__PURE__*/_jsxDEV(Fragment, {\n        children: userInfo()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 17\n      }, this);\n    } else if (display === 'profile_info') {\n      return /*#__PURE__*/_jsxDEV(Fragment, {\n        children: userProfile()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 17\n      }, this);\n    } else if (display === 'purchase_history') {\n      return /*#__PURE__*/_jsxDEV(Fragment, {\n        children: purchaseHistory()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 17\n      }, this);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mt-5\",\n    children: [/*#__PURE__*/_jsxDEV(Helmet, {\n      children: [/*#__PURE__*/_jsxDEV(\"meta\", {\n        charSet: \"utf-8\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"meta\", {\n        name: \"description\",\n        content: \"Helmet application\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"title\", {\n        children: \"Shop Time | Dashboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-3\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"card-header\",\n            children: \"Dashboard Links\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"list-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"list-group-item\",\n              style: {\n                cursor: 'pointer'\n              },\n              onClick: () => setDisplay('user_info'),\n              children: display === 'user_info' ? /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"User Info\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 301,\n                columnNumber: 41\n              }, this) : /*#__PURE__*/_jsxDEV(Fragment, {\n                children: \"User Info\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 303,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"list-group-item\",\n              style: {\n                cursor: 'pointer'\n              },\n              onClick: () => setDisplay('profile_info'),\n              children: display === 'profile_info' ? /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"User Profile\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 314,\n                columnNumber: 41\n              }, this) : /*#__PURE__*/_jsxDEV(Fragment, {\n                children: \"User Profile\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 316,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"list-group-item\",\n              style: {\n                cursor: 'pointer'\n              },\n              onClick: () => setDisplay('purchase_history'),\n              children: display === 'purchase_history' ? /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Purchase History\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 327,\n                columnNumber: 41\n              }, this) : /*#__PURE__*/_jsxDEV(Fragment, {\n                children: \"Purchase History\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 329,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 320,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-9\",\n        children: renderData()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 280,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Dashboard, \"+5mxFu7PXI1UOwFzoIXBCYF/N8A=\");\n\n_c = Dashboard;\n\nconst mapStateToProps = state => ({\n  orders: state.orders.orders,\n  user: state.auth.user,\n  profile: state.profile.profile\n});\n\nexport default connect(mapStateToProps, {\n  get_items,\n  get_total,\n  get_item_total,\n  list_orders,\n  get_user_profile,\n  update_user_profile\n})(Dashboard);\n\nvar _c;\n\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"sources":["C:/Users/sale1/Desktop/SHOPTIME/src/containers/Dashboard.js"],"names":["React","Fragment","useState","useEffect","Helmet","Link","connect","get_items","get_total","get_item_total","list_orders","get_user_profile","update_user_profile","moment","UserProfileForm","Dashboard","orders","user","profile","display","setDisplay","formData","setFormData","address_line_1","address_line_2","city","state_province_region","zipcode","phone","country_region","onChange","e","target","name","value","onSubmit","preventDefault","window","scrollTo","undefined","showStatus","status","userInfo","first_name","last_name","email","purchaseHistory","map","order","index","color","fontSize","transaction_id","amount","toFixed","shipping_price","date_issued","fromNow","userProfile","renderData","cursor","mapStateToProps","state","auth"],"mappings":"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","sourcesContent":["import React, { Fragment, useState, useEffect } from 'react';\r\nimport { Helmet } from \"react-helmet\";\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n    get_items,\r\n    get_total,\r\n    get_item_total,\r\n} from '../actions/cart';\r\nimport { list_orders } from '../actions/orders';\r\nimport {\r\n    get_user_profile,\r\n    update_user_profile,\r\n} from '../actions/profile';\r\nimport moment from 'moment';\r\nimport UserProfileForm from '../components/UserProfileForm';\r\n\r\nconst Dashboard = ({\r\n    get_items,\r\n    get_total,\r\n    get_item_total,\r\n    list_orders,\r\n    orders,\r\n    user,\r\n    profile,\r\n    get_user_profile,\r\n    update_user_profile,\r\n}) => {\r\n    const [display, setDisplay] = useState('user_info');\r\n    const [formData, setFormData] = useState({\r\n        address_line_1: '',\r\n        address_line_2: '',\r\n        city: '',\r\n        state_province_region: '',\r\n        zipcode: '',\r\n        phone: '',\r\n        country_region: 'Canada'\r\n    });\r\n\r\n    const {\r\n        address_line_1,\r\n        address_line_2,\r\n        city,\r\n        state_province_region,\r\n        zipcode,\r\n        phone,\r\n        country_region\r\n    } = formData;\r\n\r\n    const onChange = e => setFormData({ ...formData, [e.target.name]: e.target.value });\r\n\r\n    const onSubmit = e => {\r\n        e.preventDefault();\r\n\r\n        update_user_profile(\r\n            address_line_1,\r\n            address_line_2,\r\n            city,\r\n            state_province_region,\r\n            zipcode,\r\n            phone,\r\n            country_region\r\n        );\r\n\r\n        window.scrollTo(0, 0);\r\n    };\r\n\r\n    useEffect(() => {\r\n        get_user_profile();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (user) {\r\n            get_items();\r\n            get_total();\r\n            get_item_total();\r\n            list_orders();\r\n        }\r\n    }, [user]);\r\n\r\n    useEffect(() => {\r\n        if (profile && profile !== null && profile !== undefined) {\r\n            setFormData({\r\n                address_line_1: profile.address_line_1,\r\n                address_line_2: profile.address_line_2,\r\n                city: profile.city,\r\n                state_province_region: profile.state_province_region,\r\n                zipcode: profile.zipcode,\r\n                phone: profile.phone,\r\n                country_region: profile.country_region\r\n            });\r\n        }\r\n    }, [profile]);\r\n\r\n    const showStatus = (status) => {\r\n        if (status === 'not_processed') {\r\n            return 'Not Processed';\r\n        }\r\n        else if (status === 'processed') {\r\n            return 'Processed';\r\n        }\r\n        else if (status === 'shipping') {\r\n            return 'Shipping';\r\n        }\r\n        else if (status === 'delivered') {\r\n            return 'Delivered';\r\n        }\r\n        else if (status === 'cancelled') {\r\n            return 'Cancelled';\r\n        }\r\n    };  \r\n\r\n    const userInfo = () => {\r\n        return (\r\n            <div className='card mb-5'>\r\n                <h3 className='card-header'>User Information</h3>\r\n                <ul className='list-group'>\r\n                    <li className='list-group-item'>\r\n                        <strong>First Name: </strong>\r\n                        {\r\n                            user && \r\n                            user !== null &&\r\n                            user !== undefined ?\r\n                            user.first_name : <Fragment></Fragment>\r\n                        }\r\n                    </li>\r\n                    <li className='list-group-item'>\r\n                        <strong>Last Name: </strong>\r\n                        {\r\n                            user && \r\n                            user !== null &&\r\n                            user !== undefined ?\r\n                            user.last_name : <Fragment></Fragment>\r\n                        }\r\n                    </li>\r\n                    <li className='list-group-item'>\r\n                        <strong>Email: </strong>\r\n                        {\r\n                            user && \r\n                            user !== null &&\r\n                            user !== undefined ?\r\n                            user.email : <Fragment></Fragment>\r\n                        }\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    const purchaseHistory = () => {\r\n        return (\r\n            <div className='card mb-5'>\r\n                <h3 className='card-header'>\r\n                    Purchase History\r\n                </h3>\r\n                <div className='card-body'>\r\n                    {\r\n                        orders &&\r\n                        orders !== null && \r\n                        orders !== undefined &&\r\n                        orders.map((order, index) => (\r\n                            <div key={index}>\r\n                                <h3\r\n                                    className='mb-3'\r\n                                    style={{\r\n                                        color: '#b12704',\r\n                                        fontSize: '24px'\r\n                                    }}\r\n                                >\r\n                                    Order {index + 1}\r\n                                </h3>\r\n                                <ul className='list-group mb-3'>\r\n                                    <li className='list-group-item'>\r\n                                        <div>\r\n                                            <h3\r\n                                                className='text-muted mb-3'\r\n                                                style={{\r\n                                                    fontSize: '18px'\r\n                                                }}\r\n                                            >\r\n                                                Order Status: {showStatus(order.status)}\r\n                                            </h3>\r\n                                            <h3\r\n                                                className='text-muted mb-3'\r\n                                                style={{\r\n                                                    fontSize: '18px'\r\n                                                }}\r\n                                            >\r\n                                                Order Details:\r\n                                            </h3>\r\n                                            <ul className='list-group mb-3'>\r\n                                                <li className='list-group-item'>\r\n                                                    Transaction ID: {order.transaction_id}\r\n                                                </li>\r\n                                                <li className='list-group-item'>\r\n                                                    Total Cost of Order: ${order.amount.toFixed(2)}\r\n                                                </li>\r\n                                            </ul>\r\n                                            <h3\r\n                                                className='text-muted mb-3'\r\n                                                style={{\r\n                                                    fontSize: '18px'\r\n                                                }}\r\n                                            >\r\n                                                Additional Info:\r\n                                            </h3>\r\n                                            <ul className='list-group mb-3'>\r\n                                                <li className='list-group-item'>\r\n                                                    Shipping Price: ${order.shipping_price.toFixed(2)}\r\n                                                </li>\r\n                                                <li className='list-group-item'>\r\n                                                    Order Created: {moment(order.date_issued).fromNow()}\r\n                                                </li>\r\n                                            </ul>\r\n                                        </div>\r\n                                        <Link\r\n                                            className='btn btn-info'\r\n                                            to={`/dashboard/order-detail/${order.transaction_id}`}\r\n                                        >\r\n                                            Order Details\r\n                                        </Link>\r\n                                    </li>\r\n                                </ul>\r\n                            </div>\r\n                        ))\r\n                    }\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    const userProfile = () => {\r\n        if (profile && profile !== null && profile !== undefined) {\r\n            return (\r\n                <UserProfileForm\r\n                    address_line_1={address_line_1}\r\n                    address_line_2={address_line_2}\r\n                    city={city}\r\n                    state_province_region={state_province_region}\r\n                    zipcode={zipcode}\r\n                    phone={phone}\r\n                    country_region={country_region}\r\n                    onChange={onChange}\r\n                    onSubmit={onSubmit}\r\n                    profile={profile}\r\n                />\r\n            );\r\n        } else {\r\n            return (\r\n                <Fragment></Fragment>\r\n            );\r\n        }\r\n    };\r\n\r\n    const renderData = () => {\r\n        if (display === 'user_info') {\r\n            return (\r\n                <Fragment>\r\n                    {userInfo()}\r\n                </Fragment>\r\n            );\r\n        }\r\n        else if (display === 'profile_info') {\r\n            return (\r\n                <Fragment>\r\n                    {userProfile()}\r\n                </Fragment>\r\n            )\r\n        }\r\n        else if (display === 'purchase_history') {\r\n            return (\r\n                <Fragment>\r\n                    {purchaseHistory()}\r\n                </Fragment>\r\n            );\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className='container mt-5'>\r\n            <Helmet>\r\n                <meta charSet=\"utf-8\" />\r\n                <meta name=\"description\" content=\"Helmet application\" />\r\n                <title>Shop Time | Dashboard</title>\r\n                {/*<link rel=\"canonical\" href=\"http://mysite.com/example\" />*/}\r\n            </Helmet>\r\n            <div className='row'>\r\n                <div className='col-3'>\r\n                    <div className='card'>\r\n                        <h3 className='card-header'>\r\n                            Dashboard Links\r\n                        </h3>\r\n                        <ul className='list-group'>\r\n                            <li \r\n                                className='list-group-item'\r\n                                style={{ cursor: 'pointer' }}\r\n                                onClick={() => setDisplay('user_info')}\r\n                            >\r\n                                {\r\n                                    display === 'user_info' ? (\r\n                                        <strong>User Info</strong>\r\n                                    ) : (\r\n                                        <Fragment>User Info</Fragment>\r\n                                    )\r\n                                }\r\n                            </li>\r\n                            <li \r\n                                className='list-group-item'\r\n                                style={{ cursor: 'pointer' }}\r\n                                onClick={() => setDisplay('profile_info')}\r\n                            >\r\n                                {\r\n                                    display === 'profile_info' ? (\r\n                                        <strong>User Profile</strong>\r\n                                    ) : (\r\n                                        <Fragment>User Profile</Fragment>\r\n                                    )\r\n                                }\r\n                            </li>\r\n                            <li \r\n                                className='list-group-item'\r\n                                style={{ cursor: 'pointer' }}\r\n                                onClick={() => setDisplay('purchase_history')}\r\n                            >\r\n                                {\r\n                                    display === 'purchase_history' ? (\r\n                                        <strong>Purchase History</strong>\r\n                                    ) : (\r\n                                        <Fragment>Purchase History</Fragment>\r\n                                    )\r\n                                }\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n                <div className='col-9'>\r\n                    {renderData()}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    orders: state.orders.orders,\r\n    user: state.auth.user,\r\n    profile: state.profile.profile,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n    get_items,\r\n    get_total,\r\n    get_item_total,\r\n    list_orders,\r\n    get_user_profile,\r\n    update_user_profile,\r\n})(Dashboard);"]},"metadata":{},"sourceType":"module"}