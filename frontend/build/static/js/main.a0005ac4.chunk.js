(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{103:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),r=a(21),s=a.n(r),o=a(9),i=a(10),l=a(4),u=a(3),d=a.n(u),p=a(5),j=a(8),b=a.n(j),h="SIGNUP_SUCCESS",m="SIGNUP_FAIL",O="LOGIN_SUCCESS",f="LOGIN_FAIL",x="AUTHENTICATED_SUCCESS",g="AUTHENTICATED_FAIL",v="REFRESH_SUCCESS",y="REFRESH_FAIL",_="USER_LOADED_SUCCESS",w="USER_LOADED_FAIL",N="ACTIVATION_SUCCESS",S="ACTIVATION_FAIL",k="RESET_PASSWORD_SUCCESS",C="RESET_PASSWORD_FAIL",E="RESET_PASSWORD_CONFIRM_SUCCESS",A="RESET_PASSWORD_CONFIRM_FAIL",T="GOOGLE_AUTH_SUCCESS",I="GOOGLE_AUTH_FAIL",R="FACEBOOK_AUTH_SUCCESS",L="FACEBOOK_AUTH_FAIL",U="SET_AUTH_LOADING",P="REMOVE_AUTH_LOADING",F="LOGOUT",D="GET_CATEGORIES_SUCCESS",G="GET_CATEGORIES_FAIL",q="GET_PRODUCTS_SUCCESS",W="GET_PRODUCTS_FAIL",H="GET_PRODUCTS_BY_ARRIVAL_SUCCESS",J="GET_PRODUCTS_BY_ARRIVAL_FAIL",B="GET_PRODUCTS_BY_SOLD_SUCCESS",z="GET_PRODUCTS_BY_SOLD_FAIL",V="GET_PRODUCT_SUCCESS",M="GET_PRODUCT_FAIL",Y="SET_ALERT",$="REMOVE_ALERT",K=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;return function(c){c({type:Y,payload:{msg:e,alertType:t}}),setTimeout((function(){return c({type:$})}),a)}},Q=function(){return function(){var e=Object(p.a)(d.a.mark((function e(t){var a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("access")){e.next=14;break}return a={headers:{Authorization:"JWT ".concat(localStorage.getItem("access")),Accept:"application/json"}},e.prev=2,e.next=5,b.a.get("".concat("http://localhost:8000","/auth/users/me"),a);case 5:200===(c=e.sent).status?t({type:_,payload:c.data}):t({type:w}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),t({type:w});case 12:e.next=15;break;case 14:t({type:w});case 15:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},X=a(11),Z=a(0),ee=Object(l.b)((function(e){return{alert:e.alert.alert}}))((function(e){var t=e.alert;return Object(Z.jsx)(c.Fragment,{children:null!==t?Object(Z.jsx)("div",{className:"btn btn-".concat(t.alertType),style:{width:"95%",margin:"5px 2.5%"},children:t.msg}):Object(Z.jsx)(c.Fragment,{})})})),te=Object(l.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{logout:function(){return function(e){e({type:F}),e(K("Logout Out","success"))}}})((function(e){var t=e.isAuthenticated,a=e.logout,n=Object(c.useState)(!1),r=Object(X.a)(n,2),s=r[0],l=r[1],u=Object(Z.jsx)("li",{className:"nav-item",children:Object(Z.jsx)("a",{className:"nav-link",onClick:function(){a(),l(!0)},href:"#!",children:"Logout"})}),d=Object(Z.jsxs)(c.Fragment,{children:[Object(Z.jsx)("li",{className:"nav-item",children:Object(Z.jsx)(o.c,{className:"nav-link",to:"/login",children:"Login"})}),Object(Z.jsx)("li",{className:"nav-item",children:Object(Z.jsx)(o.c,{className:"nav-link",to:"/signup",children:"Sign Up"})})]}),p=function(){return Object(Z.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:[Object(Z.jsx)(o.b,{className:"navbar-brand",to:"/",children:"Shop Time"}),Object(Z.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(Z.jsx)("span",{className:"navbar-toggler-icon"})}),Object(Z.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:Object(Z.jsxs)("ul",{className:"navbar-nav",children:[Object(Z.jsx)("li",{className:"nav-item",children:Object(Z.jsx)(o.c,{className:"nav-link",exact:!0,to:"/",children:"Home"})}),Object(Z.jsx)("li",{className:"nav-item",children:Object(Z.jsx)(o.c,{className:"nav-link",to:"/shop",children:"Shop"})}),t?u:d]})})]})};return Object(Z.jsx)(c.Fragment,{children:s?Object(Z.jsxs)(c.Fragment,{children:[p(),Object(Z.jsx)(ee,{}),Object(Z.jsx)(i.a,{to:"/"})]}):Object(Z.jsxs)(c.Fragment,{children:[p(),Object(Z.jsx)(ee,{})]})})})),ae=Object(l.b)(null,{check_authenticated:function(){return function(){var e=Object(p.a)(d.a.mark((function e(t){var a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("access")){e.next=15;break}return a={headers:{Accept:"application/json","Content-Type":"application/json"}},c=JSON.stringify({token:localStorage.getItem("access")}),e.prev=3,e.next=6,b.a.post("".concat("http://localhost:8000","/auth/jwt/verify/"),c,a);case 6:200===e.sent.status?t({type:x}):t({type:g}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),t({type:g});case 13:e.next=16;break;case 15:t({type:g});case 16:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()},load_user:Q,refresh:function(){return function(){var e=Object(p.a)(d.a.mark((function e(t){var a,c,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("refresh")){e.next=15;break}return a={headers:{Accept:"application/json",Content:"application/json"}},c=JSON.stringify({refresh:localStorage.getItem("refresh")}),e.prev=3,e.next=6,b.a.post("".concat("http://localhost:8000","/auth/jwt/refresh"),c,a);case 6:200===(n=e.sent).status?t({type:v,payload:n.data}):t({type:y}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),t({type:y});case 13:e.next=16;break;case 15:t({type:y});case 16:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.check_authenticated,a=e.load_user,n=e.refresh,r=e.children;return Object(c.useEffect)((function(){n(),t(),a()}),[]),Object(Z.jsxs)("div",{children:[Object(Z.jsx)(te,{}),r]})})),ce=a(23),ne=a.n(ce),re=function(e){var t=e.product;return Object(Z.jsx)("div",{className:"card mb-5",children:Object(Z.jsxs)("div",{className:"card-body",children:[Object(Z.jsx)("h3",{className:"card-title",children:t.name}),Object(Z.jsx)("div",{className:"mt-3 mb-3",style:{height:"240px",width:"90%",marginLeft:"5%",overflow:"hidden"},children:Object(Z.jsx)("img",{className:"card-img-top",alt:"Product Visual",src:t.photo})}),Object(Z.jsxs)("p",{className:"card-text mt-3",style:{height:"140px"},children:[t.description.substring(0,100),"..."]}),Object(Z.jsxs)("p",{className:"card-text text-muted",children:[Object(Z.jsx)("span",{className:"mr-2",children:"Price:"}),Object(Z.jsxs)("span",{className:"mr-3",style:{textDecoration:"line-through"},children:["$",t.compare_price]}),Object(Z.jsxs)("span",{style:{color:"#b12704",fontSize:"20px"},children:["$",t.price]})]}),Object(Z.jsx)("p",{className:"card-text text-muted",children:t.quantity>0?Object(Z.jsx)("span",{className:"text-success",children:"In Stock"}):Object(Z.jsx)("span",{className:"text-danger",children:"Out of Stock"})}),Object(Z.jsxs)("p",{className:"card-text text-muted",children:["Added ",ne()(t.date_created).fromNow()]}),Object(Z.jsx)(o.b,{to:"/product/".concat(t.id),children:Object(Z.jsx)("button",{className:"btn btn-outline-primary mt-2 mb-2 mr-2",children:"View Product"})})]})})},se=function(e){var t=e.products_arrival,a=e.products_sold;return Object(Z.jsxs)("div",{className:"container",children:[Object(Z.jsxs)("div",{className:"jumbotron mt-5",children:[Object(Z.jsx)("h1",{className:"display-4",children:"Welcome to Shop Time!"}),Object(Z.jsx)("p",{className:"lead",children:"We sell all kinds of awesome products!"}),Object(Z.jsx)("hr",{className:"my-4"}),Object(Z.jsx)("p",{children:"Go ahead and check out our shop"}),Object(Z.jsx)(o.b,{className:"btn btn-primary btn-lg",to:"/shop",children:"Shop"})]}),Object(Z.jsxs)("section",{children:[Object(Z.jsx)("h2",{className:"mt-5 mb-3 display-4",children:"Newest Arrivals"}),Object(Z.jsx)("div",{className:"row",children:t&&null!==t&&void 0!==t&&t.map((function(e,t){return Object(Z.jsx)("div",{className:"col-4",children:Object(Z.jsx)(re,{product:e})},t)}))})]}),Object(Z.jsxs)("section",{children:[Object(Z.jsx)("h2",{className:"mt-5 mb-3 display-4",children:"Top Selling Products!"}),Object(Z.jsx)("div",{className:"row",children:a&&null!==a&&void 0!==a&&a.map((function(e,t){return Object(Z.jsx)("div",{className:"col-4",children:Object(Z.jsx)(re,{product:e})},t)}))})]})]})},oe=Object(l.b)((function(e){return{products_arrival:e.products.products_arrival,products_sold:e.products.products_sold}}),{get_products_by_arrival:function(){return function(){var e=Object(p.a)(d.a.mark((function e(t){var a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Accept:"application/json"}},e.prev=1,e.next=4,b.a.get("".concat("http://localhost:8000","/api/products/get-products?sortBy=date_created&order=desc&limit=3"),a);case 4:200===(c=e.sent).status?t({type:H,payload:c.data}):t({type:J}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:J});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},get_products_by_sold:function(){return function(){var e=Object(p.a)(d.a.mark((function e(t){var a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Accept:"application/json"}},e.prev=1,e.next=4,b.a.get("".concat("http://localhost:8000","/api/products/get-products?sortBy=sold&order=desc&limit=3"),a);case 4:200===(c=e.sent).status?t({type:B,payload:c.data}):t({type:z}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:z});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.products_arrival,a=e.products_sold,n=e.get_products_by_arrival,r=e.get_products_by_sold;return Object(c.useEffect)((function(){window.scrollTo(0,0),n(),r()}),[]),Object(Z.jsx)(se,{products_arrival:t,products_sold:a})})),ie=a(17),le=a(2),ue=Object(l.b)((function(e){return{categories:e.categories.categories}}),{get_categories:function(){return function(){var e=Object(p.a)(d.a.mark((function e(t){var a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Accept:"application/json"}},e.prev=1,e.next=4,b.a.get("".concat("http://localhost:8000","/api/category/categories"),a);case 4:200===(c=e.sent).status?t({type:D,payload:c.data}):t({type:G}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:G});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.categories,a=e.get_categories,n=Object(c.useState)({category_id:"0"}),r=Object(X.a)(n,2),s=r[0],o=r[1];s.category_id;Object(c.useEffect)((function(){a(),window.scrollTo(0,0)}),[]);var i=function(e){return o(Object(le.a)(Object(le.a)({},s),{},Object(ie.a)({},e.target.name,e.target.value)))};return Object(Z.jsxs)("div",{className:"container",children:[Object(Z.jsxs)("div",{className:"jumbotron mt-5",children:[Object(Z.jsx)("h1",{className:"display-4",children:"Shop Page"}),Object(Z.jsx)("p",{className:"lead",children:"Check out our amazing selection of products!"})]}),Object(Z.jsxs)("div",{className:"row",children:[Object(Z.jsx)("div",{className:"col-2",children:Object(Z.jsxs)("form",{className:"mb-5",children:[Object(Z.jsx)("h5",{children:"Categories:"}),Object(Z.jsxs)("div",{className:"form-check",children:[Object(Z.jsx)("input",{onChange:function(e){return i(e)},value:"0",name:"category_id",type:"radio",className:"form-check-input",defaultChecked:!0}),Object(Z.jsx)("label",{className:"form-check-label",children:"All"})]}),t&&null!==t&&void 0!==t&&t.map((function(e){if(0===e.sub_categories.length)return Object(Z.jsxs)("div",{className:"form-check",children:[Object(Z.jsx)("input",{onChange:function(e){return i(e)},value:e.id.toString(),name:"category_id",type:"radio",className:"form-check-input"}),Object(Z.jsx)("label",{className:"form-check-label",children:e.name})]},e.id);var t=[];return t.push(Object(Z.jsxs)("div",{className:"form-check",children:[Object(Z.jsx)("input",{onChange:function(e){return i(e)},value:e.id.toString(),name:"category_id",type:"radio",className:"form-check-input"}),Object(Z.jsx)("label",{className:"form-check-label",children:e.name})]},e.id)),e.sub_categories.map((function(e){t.push(Object(Z.jsxs)("div",{className:"form-check ml-2",children:[Object(Z.jsx)("input",{onChange:function(e){return i(e)},value:e.id.toString(),name:"category_id",type:"radio",className:"form-check-input"}),Object(Z.jsx)("label",{className:"form-check-label",children:e.name})]},e.id))})),t})),Object(Z.jsx)("button",{className:"btn btn-success mt-3",children:"Update"})]})}),Object(Z.jsx)("div",{className:"col-10",children:"Products"})]})]})})),de=function(e){var t=e.product;return Object(Z.jsxs)("div",{className:"row pt-5",children:[Object(Z.jsx)("div",{className:"col-3",children:Object(Z.jsx)("div",{style:{width:"80%",marginLeft:"10%",overflow:"hidden"},children:Object(Z.jsx)("img",{className:"mt-5",style:{width:"100%"},src:t&&null!==t&&void 0!==t&&t.photo,alt:"product details"})})}),Object(Z.jsxs)("div",{className:"col-6",children:[Object(Z.jsx)("h1",{children:t&&null!==t&&void 0!==t&&t.name}),Object(Z.jsx)("p",{className:"lead mt-3",children:t&&null!==t&&void 0!==t&&t.description})]}),Object(Z.jsx)("div",{className:"col-3",children:Object(Z.jsxs)("div",{className:"card",style:{padding:"10px 20px"},children:[Object(Z.jsxs)("p",{style:{fontSize:"24px",color:"#b12704"},children:["$",t&&null!==t&&void 0!==t&&t.price]}),Object(Z.jsx)("p",{children:t&&null!==t&&void 0!==t&&t.quantity>0?Object(Z.jsx)("span",{className:"text-success",children:"In Stock"}):Object(Z.jsx)("span",{className:"text-danger",children:"Out of Stock"})}),Object(Z.jsxs)("p",{className:"card-text text-muted",children:["Added ",t&&null!==t&&void 0!==t&&ne()(t.date_created).fromNow()]})]})})]})},pe=Object(l.b)((function(e){return{product:e.products.product}}),{get_product:function(e){return function(){var t=Object(p.a)(d.a.mark((function t(a){var c,n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c={headers:{Accept:"application/json"}},t.prev=1,t.next=4,b.a.get("".concat("http://localhost:8000","/api/products/product/").concat(e),c);case 4:200===(n=t.sent).status?a({type:V,payload:n.data}):a({type:M}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:M});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.match,a=e.product,n=e.get_product;return Object(c.useEffect)((function(){window.scrollTo(0,0);var e=t.params.id;n(e)}),[t.params.id]),Object(Z.jsx)("div",{className:"container mt-5",children:Object(Z.jsx)(de,{product:a})})})),je=a(24),be=a.n(je),he=a(12),me=a.n(he),Oe=Object(l.b)(null,{google_authenticate:function(e,t){return function(){var a=Object(p.a)(d.a.mark((function a(c){var n,r,s,o;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!e||!t||localStorage.getItem("access")){a.next=17;break}return c({type:U}),n={headers:{"Content-Type":"application/x-www-form-urlencoded"}},r={state:e,code:t},s=Object.keys(r).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(r[e])})).join("&"),a.prev=5,a.next=8,b.a.post("".concat("http://localhost:8000","/auth/o/google-oauth2/?").concat(s),n);case 8:201===(o=a.sent).status?(c({type:T,payload:o.data}),c(Q()),c({type:P}),c(K("Logged in successfully","success"))):(c({type:I}),c({type:P}),c(K("Error authenticating","danger"))),a.next=17;break;case 12:a.prev=12,a.t0=a.catch(5),c({type:I}),c({type:P}),c(K("Error authenticating","danger"));case 17:case"end":return a.stop()}}),a,null,[[5,12]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=e.google_authenticate,a=Object(c.useState)(!1),n=Object(X.a)(a,2),r=n[0],s=n[1],o=Object(i.f)();return Object(c.useEffect)((function(){var e=be.a.parse(o.search),a=e.state?e.state:null,c=e.code?e.code:null;a&&c&&function(){var e=Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(a,c);case 2:s(!0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[o]),r?Object(Z.jsx)(i.a,{to:"/dashboard"}):Object(Z.jsx)("div",{className:"mt-5 d-flex justify-content-center align-items-center",children:Object(Z.jsx)(me.a,{type:"Oval",color:"#424242",height:50,width:50})})})),fe=Object(l.b)(null,{facebook_authenticate:function(e,t){return function(){var a=Object(p.a)(d.a.mark((function a(c){var n,r,s,o;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!e||!t||localStorage.getItem("access")){a.next=17;break}return c({type:U}),n={headers:{"Content-Type":"application/x-www-form-urlencoded"}},r={state:e,code:t},s=Object.keys(r).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(r[e])})).join("&"),a.prev=5,a.next=8,b.a.post("".concat("http://localhost:8000","/auth/o/facebook/?").concat(s),n);case 8:201===(o=a.sent).status?(c({type:R,payload:o.data}),c(Q()),c({type:P}),c(K("Logged in successfully","success"))):(c({type:L}),c({type:P}),c(K("Error authenticating","danger"))),a.next=17;break;case 12:a.prev=12,a.t0=a.catch(5),c({type:L}),c({type:P}),c(K("Error authenticating","danger"));case 17:case"end":return a.stop()}}),a,null,[[5,12]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=e.facebook_authenticate,a=Object(c.useState)(!1),n=Object(X.a)(a,2),r=n[0],s=n[1],o=Object(i.f)();return Object(c.useEffect)((function(){var e=be.a.parse(o.search),a=e.state?e.state:null,c=e.code?e.code:null;a&&c&&function(){var e=Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(a,c);case 2:s(!0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[o]),r?Object(Z.jsx)(i.a,{to:"/dashboard"}):Object(Z.jsx)("div",{className:"mt-5 d-flex justify-content-center align-items-center",children:Object(Z.jsx)(me.a,{type:"Oval",color:"#424242",height:50,width:50})})})),xe=function(){return Object(Z.jsx)("div",{children:"Dashboard"})},ge=Object(l.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,loading:e.auth.loading}}),{login:function(e,t){return function(){var a=Object(p.a)(d.a.mark((function a(c){var n,r,s;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c({type:U}),n={headers:{"Content-Type":"application/json"}},r=JSON.stringify({email:e,password:t}),a.prev=3,a.next=6,b.a.post("".concat("http://localhost:8000","/auth/jwt/create/"),r,n);case 6:200===(s=a.sent).status?(c({type:O,payload:s.data}),c(Q()),c({type:P}),c(K("Logged in successfully","success"))):(c({type:f}),c({type:P}),c(K("Error authenticating","danger"))),a.next=15;break;case 10:a.prev=10,a.t0=a.catch(3),c({type:f}),c({type:P}),c(K("Error authenticating","danger"));case 15:case"end":return a.stop()}}),a,null,[[3,10]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=e.login,a=e.isAuthenticated,n=e.loading,r=Object(c.useState)({email:"",password:""}),s=Object(X.a)(r,2),l=s[0],u=s[1];Object(c.useEffect)((function(){window.scrollTo(0,0)}));var j=l.email,h=l.password,m=function(e){return u(Object(le.a)(Object(le.a)({},l),{},Object(ie.a)({},e.target.name,e.target.value)))},O=function(){var e=Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("".concat("http://localhost:8000","/auth/o/google-oauth2/?redirect_uri=").concat("http://localhost:8000","/google"));case 3:t=e.sent,window.location.replace(t.data.authorization_url),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("".concat("http://localhost:8000","/auth/o/facebook/?redirect_uri=").concat("http://localhost:8000","/facebook"));case 3:t=e.sent,window.location.replace(t.data.authorization_url),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return a?Object(Z.jsx)(i.a,{to:"/dashboard"}):Object(Z.jsxs)("div",{className:"container mt-5",children:[Object(Z.jsx)("h1",{children:"Sign In"}),Object(Z.jsx)("p",{children:"Sign into your account"}),Object(Z.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),t(j,h)}(e)},children:[Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsx)("input",{className:"form-control",type:"email",placeholder:"Email*",name:"email",value:j,onChange:function(e){return m(e)},required:!0})}),Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsx)("input",{className:"form-control",type:"password",placeholder:"Password*",name:"password",value:h,onChange:function(e){return m(e)},minLength:"6",required:!0})}),n?Object(Z.jsx)("div",{className:"mt-3 d-flex justify-content-center align-items-center",children:Object(Z.jsx)(me.a,{type:"Oval",color:"#424242",height:50,width:50})}):Object(Z.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Login"})]}),Object(Z.jsx)("button",{className:"btn btn-danger mt-3",onClick:O,children:"Continue With Google"}),Object(Z.jsx)("br",{}),Object(Z.jsx)("button",{className:"btn btn-primary mt-3",onClick:f,children:"Continue With Facebook"}),Object(Z.jsxs)("p",{className:"mt-3",children:["Don't have an account? ",Object(Z.jsx)(o.b,{to:"/signup",children:"Sign Up"})]}),Object(Z.jsxs)("p",{className:"mt-3",children:["Forgot your Password? ",Object(Z.jsx)(o.b,{to:"/reset_password",children:"Reset Password"})]})]})})),ve=Object(l.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,loading:e.auth.loading}}),{signup:function(e,t,a,c,n){return function(){var r=Object(p.a)(d.a.mark((function r(s){var o,i,l;return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return s({type:U}),o={headers:{"Content-Type":"application/json"}},i=JSON.stringify({first_name:e,last_name:t,email:a,password:c,re_password:n}),r.prev=3,r.next=6,b.a.post("".concat("http://localhost:8000","/auth/users/"),i,o);case 6:201===(l=r.sent).status?(s({type:h,payload:l.data}),s(K("We sent you an email, please activate your account","success"))):(s({type:m}),s(K("Error creating account","danger"))),s({type:P}),r.next=16;break;case 11:r.prev=11,r.t0=r.catch(3),s({type:m}),s({type:P}),s(K("Error creating account","danger"));case 16:case"end":return r.stop()}}),r,null,[[3,11]])})));return function(e){return r.apply(this,arguments)}}()}})((function(e){var t=e.signup,a=e.isAuthenticated,n=e.loading,r=Object(c.useState)(!1),s=Object(X.a)(r,2),l=s[0],u=s[1],j=Object(c.useState)({first_name:"",last_name:"",email:"",password:"",re_password:""}),h=Object(X.a)(j,2),m=h[0],O=h[1];Object(c.useEffect)((function(){window.scrollTo(0,0)}));var f=m.first_name,x=m.last_name,g=m.email,v=m.password,y=m.re_password,_=function(e){return O(Object(le.a)(Object(le.a)({},m),{},Object(ie.a)({},e.target.name,e.target.value)))},w=function(){var e=Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("".concat("http://localhost:8000","/auth/o/google-oauth2/?redirect_uri=").concat("http://localhost:8000","/google"));case 3:t=e.sent,window.location.replace(t.data.authorization_url),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("".concat("http://localhost:8000","/auth/o/facebook/?redirect_uri=").concat("http://localhost:8000","/facebook"));case 3:t=e.sent,window.location.replace(t.data.authorization_url),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return a?Object(Z.jsx)(i.a,{to:"/"}):(l&&i.a,Object(Z.jsxs)("div",{className:"container mt-5",children:[Object(Z.jsx)("h1",{children:"Sign Up"}),Object(Z.jsx)("p",{children:"Create your Account"}),Object(Z.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),t(f,x,g,v,y),u(!0)}(e)},children:[Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsx)("input",{className:"form-control",type:"text",placeholder:"First Name*",name:"first_name",value:f,onChange:function(e){return _(e)},required:!0})}),Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsx)("input",{className:"form-control",type:"text",placeholder:"Last Name*",name:"last_name",value:x,onChange:function(e){return _(e)},required:!0})}),Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsx)("input",{className:"form-control",type:"email",placeholder:"Email*",name:"email",value:g,onChange:function(e){return _(e)},required:!0})}),Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsx)("input",{className:"form-control",type:"password",placeholder:"Password*",name:"password",value:v,onChange:function(e){return _(e)},minLength:"6",required:!0})}),Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsx)("input",{className:"form-control",type:"password",placeholder:"Confirm Password*",name:"re_password",value:y,onChange:function(e){return _(e)},minLength:"6",required:!0})}),n?Object(Z.jsx)("div",{className:"mt-3 d-flex justify-content-center align-items-center",children:Object(Z.jsx)(me.a,{type:"Oval",color:"#424242",height:50,width:50})}):Object(Z.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Register"})]}),Object(Z.jsx)("button",{className:"btn btn-danger mt-3",onClick:w,children:"Continue With Google"}),Object(Z.jsx)("br",{}),Object(Z.jsx)("button",{className:"btn btn-primary mt-3",onClick:N,children:"Continue With Facebook"}),Object(Z.jsxs)("p",{className:"mt-3",children:["Already have an account? ",Object(Z.jsx)(o.b,{to:"/login",children:"Sign In"})]})]}))})),ye=Object(l.b)((function(e){return{loading:e.auth.loading}}),{activate:function(e,t){return function(){var a=Object(p.a)(d.a.mark((function a(c){var n,r;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c({type:U}),n={headers:{"Content-Type":"application/json"}},r=JSON.stringify({uid:e,token:t}),a.prev=3,a.next=6,b.a.post("".concat("http://localhost:8000","/auth/users/activation/"),r,n);case 6:204===a.sent.status?(c({type:N}),c(K("Successfully activated your account","success"))):(c({type:S}),c(K("Error activating account","danger"))),c({type:P}),a.next=16;break;case 11:a.prev=11,a.t0=a.catch(3),c({type:S}),c({type:P}),c(K("Error creating account","danger"));case 16:case"end":return a.stop()}}),a,null,[[3,11]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=e.match,a=e.loading,n=e.activate,r=Object(c.useState)(!1),s=Object(X.a)(r,2),o=s[0],l=s[1];return o&&!a?Object(Z.jsx)(i.a,{to:"/"}):Object(Z.jsx)("div",{className:"container",children:Object(Z.jsxs)("div",{className:"d-flex justify-content-center align-items-center flex-column",style:{marginTop:"200px"},children:[Object(Z.jsx)("h1",{children:"Activate your Account:"}),a?Object(Z.jsx)("div",{className:"mt-3 d-flex justify-content-center align-items-center",children:Object(Z.jsx)(me.a,{type:"Oval",color:"#424242",height:50,width:50})}):Object(Z.jsx)("button",{className:"btn btn-primary",style:{marginTop:"50px"},type:"button",onClick:function(){var e=t.params.uid,a=t.params.token;n(e,a),l(!0)},children:"Activate"})]})})})),_e=Object(l.b)((function(e){return{loading:e.auth.loading}}),{reset_password:function(e){return function(){var t=Object(p.a)(d.a.mark((function t(a){var c,n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:U}),c={headers:{"Content-Type":"application/json"}},n=JSON.stringify({email:e}),t.prev=3,t.next=6,b.a.post("".concat("http://localhost:8000","/auth/users/reset_password/"),n,c);case 6:200===t.sent.status?(a({type:k}),a({type:P}),a(K("Password reset email sent","success"))):(a({type:C}),a({type:P}),a(K("Error sending password reset email","danger"))),t.next=15;break;case 10:t.prev=10,t.t0=t.catch(3),a({type:C}),a({type:P}),a(K("Error sending password reset email","danger"));case 15:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.loading,a=e.reset_password,n=Object(c.useState)(!1),r=Object(X.a)(n,2),s=r[0],o=r[1],l=Object(c.useState)({email:""}),u=Object(X.a)(l,2),d=u[0],p=u[1];Object(c.useEffect)((function(){window.scrollTo(0,0)}));var j=d.email;return s&&!t?Object(Z.jsx)(i.a,{to:"/"}):Object(Z.jsxs)("div",{className:"container mt-5",children:[Object(Z.jsx)("h1",{className:"mb-5",children:"Request Password Reset:"}),Object(Z.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),a(j),o(!0)}(e)},children:[Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsx)("input",{className:"form-control mb-3",type:"email",placeholder:"Your Email",name:"email",value:j,onChange:function(e){return function(e){return p(Object(le.a)(Object(le.a)({},d),{},Object(ie.a)({},e.target.name,e.target.value)))}(e)},required:!0})}),t?Object(Z.jsx)("div",{className:"mt-3 d-flex justify-content-center align-items-center",children:Object(Z.jsx)(me.a,{type:"Oval",color:"#424242",height:50,width:50})}):Object(Z.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Reset Password"})]})]})})),we=Object(l.b)((function(e){return{loading:e.auth.loading}}),{reset_password_confirm:function(e,t,a,c){return function(){var n=Object(p.a)(d.a.mark((function n(r){var s,o;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r({type:U}),s={headers:{"Content-Type":"application/json"}},o=JSON.stringify({uid:e,token:t,new_password:a,re_new_password:c}),a===c){n.next=9;break}r({type:A}),r({type:P}),r(K("Passwords do not match","danger")),n.next=22;break;case 9:return n.prev=9,n.next=12,b.a.post("".concat("http://localhost:8000","/auth/users/reset_password_confirm/"),o,s);case 12:200===n.sent.status?(r({type:E}),r({type:P})):(r({type:A}),r({type:P}),r(K("Error resetting your password","danger"))),r(K("Password has been reset successfully","success")),n.next=22;break;case 17:n.prev=17,n.t0=n.catch(9),r({type:A}),r({type:P}),r(K("Error resetting your password","danger"));case 22:case"end":return n.stop()}}),n,null,[[9,17]])})));return function(e){return n.apply(this,arguments)}}()}})((function(e){var t=e.match,a=e.loading,n=e.reset_password_confirm,r=Object(c.useState)(!1),s=Object(X.a)(r,2),o=s[0],l=s[1],u=Object(c.useState)({new_password:"",re_new_password:""}),d=Object(X.a)(u,2),p=d[0],j=d[1];Object(c.useEffect)((function(){window.scrollTo(0,0)}));var b=p.new_password,h=p.re_new_password,m=function(e){return j(Object(le.a)(Object(le.a)({},p),{},Object(ie.a)({},e.target.name,e.target.value)))};return o&&!a?Object(Z.jsx)(i.a,{to:"/"}):Object(Z.jsxs)("div",{className:"container mt-5",children:[Object(Z.jsx)("h1",{className:"mb-5",children:"Reset your password:"}),Object(Z.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault();var a=t.params.uid,c=t.params.token;n(a,c,b,h),b===h&&l(!0)}(e)},children:[Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsx)("input",{className:"form-control",type:"password",placeholder:"New Password*",name:"new_password",value:b,onChange:function(e){return m(e)},minLength:"6",required:!0})}),Object(Z.jsx)("div",{className:"form-group",children:Object(Z.jsx)("input",{className:"form-control",type:"password",placeholder:"Confirm New Password*",name:"re_new_password",value:h,onChange:function(e){return m(e)},minLength:"6",required:!0})}),a?Object(Z.jsx)("div",{className:"mt-3 d-flex justify-content-center align-items-center",children:Object(Z.jsx)(me.a,{type:"Oval",color:"#424242",height:50,width:50})}):Object(Z.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Reset Password"})]})]})})),Ne=a(19),Se=a(39),ke=a(40),Ce={access:localStorage.getItem("access"),refresh:localStorage.getItem("refresh"),isAuthenticated:null,user:null,loading:!1},Ee={alert:null},Ae={categories:null},Te={products:null,products_arrival:null,products_sold:null,product:null,search_products:null,related_products:null,filtered_products:null},Ie=Object(Ne.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0,a=t.type,c=t.payload;switch(a){case U:return Object(le.a)(Object(le.a)({},e),{},{loading:!0});case P:return Object(le.a)(Object(le.a)({},e),{},{loading:!1});case _:return Object(le.a)(Object(le.a)({},e),{},{user:c});case w:return Object(le.a)(Object(le.a)({},e),{},{user:null});case x:return Object(le.a)(Object(le.a)({},e),{},{isAuthenticated:!0});case g:return localStorage.removeItem("access"),localStorage.removeItem("refresh"),Object(le.a)(Object(le.a)({},e),{},{isAuthenticated:!1,access:null,refresh:null});case O:case T:case R:return localStorage.setItem("access",c.access),localStorage.setItem("refresh",c.refresh),Object(le.a)(Object(le.a)({},e),{},{isAuthenticated:!0,access:localStorage.getItem("access"),refresh:localStorage.getItem("refresh")});case N:case S:case k:case C:case E:case A:return Object(le.a)({},e);case v:return localStorage.setItem("access",c.access),Object(le.a)(Object(le.a)({},e),{},{access:localStorage.getItem("access")});case h:case m:case f:case I:case L:case y:case F:return localStorage.removeItem("access"),localStorage.removeItem("refresh"),Object(le.a)(Object(le.a)({},e),{},{access:null,refresh:null,isAuthenticated:!1,user:null});default:return e}},alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0,a=t.type,c=t.payload;switch(a){case Y:return Object(le.a)(Object(le.a)({},e),{},{alert:c});case $:return Object(le.a)(Object(le.a)({},e),{},{alert:null});default:return e}},categories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1?arguments[1]:void 0,a=t.type,c=t.payload;switch(a){case D:return Object(le.a)(Object(le.a)({},e),{},{categories:c.categories});case G:return Object(le.a)(Object(le.a)({},e),{},{categories:null});default:return e}},products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,t=arguments.length>1?arguments[1]:void 0,a=t.type,c=t.payload;switch(a){case q:return Object(le.a)(Object(le.a)({},e),{},{products:c.products});case W:return Object(le.a)(Object(le.a)({},e),{},{products:null});case H:return Object(le.a)(Object(le.a)({},e),{},{products_arrival:c.products});case J:return Object(le.a)(Object(le.a)({},e),{},{products_arrival:null});case B:return Object(le.a)(Object(le.a)({},e),{},{products_sold:c.products});case z:return Object(le.a)(Object(le.a)({},e),{},{products_sold:null});case V:return Object(le.a)(Object(le.a)({},e),{},{product:c.product});case M:return Object(le.a)(Object(le.a)({},e),{},{product:null});default:return e}}}),Re=[ke.a],Le=Object(Ne.createStore)(Ie,{},Object(Se.composeWithDevTools)(Ne.applyMiddleware.apply(void 0,Re))),Ue=function(){return Object(Z.jsx)(l.a,{store:Le,children:Object(Z.jsx)(o.a,{children:Object(Z.jsxs)(ae,{children:[Object(Z.jsx)(i.b,{exact:!0,path:"/",component:oe}),Object(Z.jsx)(i.b,{exact:!0,path:"/shop",component:ue}),Object(Z.jsx)(i.b,{exact:!0,path:"/product/id",component:pe}),Object(Z.jsx)(i.b,{exact:!0,path:"/dashboard",component:xe}),Object(Z.jsx)(i.b,{exact:!0,path:"/login",component:ge}),Object(Z.jsx)(i.b,{exact:!0,path:"/signup",component:ve}),Object(Z.jsx)(i.b,{exact:!0,path:"/google",component:Oe}),Object(Z.jsx)(i.b,{exact:!0,path:"/facebook",component:fe}),Object(Z.jsx)(i.b,{exact:!0,path:"/activate/:uid/:token",component:ye}),Object(Z.jsx)(i.b,{exact:!0,path:"/reset_password",component:_e}),Object(Z.jsx)(i.b,{exact:!0,path:"/password/reset/confirm/:uid/:token",component:we})]})})})};s.a.render(Object(Z.jsx)(n.a.StrictMode,{children:Object(Z.jsx)(Ue,{})}),document.getElementById("root"))}},[[103,1,2]]]);
//# sourceMappingURL=main.a0005ac4.chunk.js.map