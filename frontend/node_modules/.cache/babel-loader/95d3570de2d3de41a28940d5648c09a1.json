{"ast":null,"code":"import _defineProperty from\"C:/Users/sale1/Desktop/SHOPTIME/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:/Users/sale1/Desktop/SHOPTIME/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/sale1/Desktop/SHOPTIME/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{connect}from'react-redux';import{get_products,get_filtered_products}from'../actions/products';import{get_categories}from'../actions/categories';import Card from'../components/Card';import ShopForm from'../components/ShopForm';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Shop=function Shop(_ref){var categories=_ref.categories,get_categories=_ref.get_categories,products=_ref.products,get_products=_ref.get_products,filtered_products=_ref.filtered_products,get_filtered_products=_ref.get_filtered_products;var _useState=useState({category_id:'0',price_range:'Any',sortBy:'date_created',order:'desc'}),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],setFormData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),filtered=_useState4[0],setFiltered=_useState4[1];var category_id=formData.category_id,price_range=formData.price_range,sortBy=formData.sortBy,order=formData.order;useEffect(function(){get_products();get_categories();window.scrollTo(0,0);},[]);var onChange=function onChange(e){return setFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},e.target.name,e.target.value)));};var onSubmit=function onSubmit(e){e.preventDefault();window.scrollTo(0,0);get_filtered_products(category_id,price_range,sortBy,order);setFiltered(true);};var showProducts=function showProducts(){var results=[];var display=[];if(filtered_products&&filtered_products!==null&&filtered_products!==undefined&&filtered){filtered_products.map(function(product,index){return display.push(/*#__PURE__*/_jsx(\"div\",{className:\"col-4\",children:/*#__PURE__*/_jsx(Card,{product:product})},index));});}else if(!filtered&&products&&products!==null&&products!==undefined){products.map(function(product,index){return display.push(/*#__PURE__*/_jsx(\"div\",{className:\"col-4\",children:/*#__PURE__*/_jsx(Card,{product:product})},index));});}for(var i=0;i<display.length;i+=3){results.push(/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[display[i]?display[i]:/*#__PURE__*/_jsx(\"div\",{className:\"col-4\"}),display[i+1]?display[i+1]:/*#__PURE__*/_jsx(\"div\",{className:\"col-4\"}),display[i+2]?display[i+2]:/*#__PURE__*/_jsx(\"div\",{className:\"col-4\"})]},i));}return results;};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"jumbotron mt-5\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"display-4\",children:\"Shop Page\"}),/*#__PURE__*/_jsx(\"p\",{className:\"lead\",children:\"Check out our amazing selection of products!\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-2\",children:/*#__PURE__*/_jsx(ShopForm,{onChange:onChange,onSubmit:onSubmit,categories:categories,sortBy:sortBy,order:order})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-10\",children:showProducts()})]})]});};var mapStateToProps=function mapStateToProps(state){return{categories:state.categories.categories,products:state.products.products,filtered_products:state.products.filtered_products};};export default connect(mapStateToProps,{get_categories:get_categories,get_products:get_products,get_filtered_products:get_filtered_products})(Shop);","map":{"version":3,"sources":["C:/Users/sale1/Desktop/SHOPTIME/frontend/src/containers/Shop.js"],"names":["React","useState","useEffect","connect","get_products","get_filtered_products","get_categories","Card","ShopForm","Shop","categories","products","filtered_products","category_id","price_range","sortBy","order","formData","setFormData","filtered","setFiltered","window","scrollTo","onChange","e","target","name","value","onSubmit","preventDefault","showProducts","results","display","undefined","map","product","index","push","i","length","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { get_products, get_filtered_products  } from '../actions/products';\r\nimport { get_categories } from '../actions/categories';\r\nimport Card from '../components/Card';\r\nimport ShopForm from '../components/ShopForm';\r\n\r\n\r\nconst Shop = ({\r\n    categories,\r\n    get_categories,\r\n    products,\r\n    get_products,\r\n    filtered_products,\r\n    get_filtered_products\r\n}) => {\r\n    const [formData, setFormData] = useState({\r\n        category_id: '0',\r\n        price_range: 'Any',\r\n        sortBy: 'date_created',\r\n        order: 'desc'\r\n    });\r\n\r\n    const [filtered, setFiltered] = useState(false);\r\n    const { \r\n        category_id, \r\n        price_range,\r\n        sortBy,\r\n        order \r\n    } = formData;\r\n\r\n    useEffect(() => {\r\n        get_products();\r\n        get_categories();\r\n        window.scrollTo(0, 0);\r\n    }, []);\r\n\r\n    const onChange = e => setFormData({ ...formData, [e.target.name]: e.target.value });\r\n\r\n    const onSubmit = e => {\r\n        e.preventDefault();\r\n        window.scrollTo(0, 0);\r\n\r\n        get_filtered_products(category_id, price_range, sortBy, order);\r\n        setFiltered(true);\r\n    };\r\n\r\n    const showProducts = () => {\r\n        let results = [];\r\n        let display = [];\r\n\r\n        if (\r\n            filtered_products &&\r\n            filtered_products !== null &&\r\n            filtered_products !== undefined &&\r\n            filtered\r\n        ) {\r\n            filtered_products.map((product, index) => {\r\n                return display.push(\r\n                    <div key={index} className='col-4'>\r\n                        <Card\r\n                            product={product}\r\n                        />\r\n                    </div>\r\n                );\r\n            });\r\n        } else if (\r\n            !filtered &&\r\n            products &&\r\n            products !== null &&\r\n            products !== undefined\r\n        ) {\r\n            products.map((product, index) => {\r\n                return display.push(\r\n                    <div key={index} className='col-4'>\r\n                        <Card\r\n                            product={product}\r\n                        />\r\n                    </div>\r\n                );\r\n            });\r\n        }\r\n\r\n        for (let i = 0; i < display.length; i += 3) {\r\n            results.push (\r\n                <div key={i} className='row'>\r\n                    {display[i] ? display[i] : <div className='col-4'></div>}\r\n                    {display[i+1] ? display[i+1] : <div className='col-4'></div>}\r\n                    {display[i+2] ? display[i+2] : <div className='col-4'></div>}\r\n                </div>\r\n            )\r\n        }\r\n\r\n        return results;\r\n    };\r\n\r\n    return (\r\n        <div className='container'>\r\n            <div className='jumbotron mt-5'>\r\n                <h1 className='display-4'>Shop Page</h1>\r\n                <p className='lead'>\r\n                    Check out our amazing selection of products!\r\n                </p>\r\n            </div>\r\n            <div className='row'>\r\n                <div className='col-2'>\r\n                    <ShopForm\r\n                        onChange={onChange}\r\n                        onSubmit={onSubmit}\r\n                        categories={categories}\r\n                        sortBy={sortBy}\r\n                        order={order}\r\n                    />\r\n                </div>\r\n                <div className='col-10'>\r\n                    {showProducts()}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    categories: state.categories.categories,\r\n    products: state.products.products,\r\n    filtered_products: state.products.filtered_products\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n    get_categories,\r\n    get_products,\r\n    get_filtered_products\r\n})(Shop);"]},"metadata":{},"sourceType":"module"}