{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/sale1/Desktop/SHOPTIME/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/sale1/Desktop/SHOPTIME/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/sale1/Desktop/SHOPTIME/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Redirect,useLocation}from'react-router-dom';import{connect}from'react-redux';import{google_authenticate}from'../actions/auth';import queryString from'query-string';import Loader from'react-loader-spinner';import{jsx as _jsx}from\"react/jsx-runtime\";var Google=function Google(_ref){var google_authenticate=_ref.google_authenticate;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),redirect=_useState2[0],setRedirect=_useState2[1];var location=useLocation();useEffect(function(){var values=queryString.parse(location.search);var state=values.state?values.state:null;var code=values.code?values.code:null;if(state&&code){var fetchData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return google_authenticate(state,code);case 2:setRedirect(true);case 3:case\"end\":return _context.stop();}}},_callee);}));return function fetchData(){return _ref2.apply(this,arguments);};}();fetchData();}},[location]);if(redirect)return/*#__PURE__*/_jsx(Redirect,{to:\"/dashboard\"});return/*#__PURE__*/_jsx(\"div\",{className:\"mt-5 d-flex justify-content-center align-items-center\",children:/*#__PURE__*/_jsx(Loader,{type:\"Oval\",color:\"#424242\",height:50,width:50})});};export default connect(null,{google_authenticate:google_authenticate})(Google);","map":{"version":3,"sources":["C:/Users/sale1/Desktop/SHOPTIME/frontend/src/containers/Google.js"],"names":["React","useState","useEffect","Redirect","useLocation","connect","google_authenticate","queryString","Loader","Google","redirect","setRedirect","location","values","parse","search","state","code","fetchData"],"mappings":"0dAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,QAAT,CAAmBC,WAAnB,KAAsC,kBAAtC,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,mBAAT,KAAoC,iBAApC,CACA,MAAOC,CAAAA,WAAP,KAAwB,cAAxB,CACA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,C,2CAEA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,MAA6B,IAA1BH,CAAAA,mBAA0B,MAA1BA,mBAA0B,CACxC,cAAgCL,QAAQ,CAAC,KAAD,CAAxC,wCAAOS,QAAP,eAAiBC,WAAjB,eACA,GAAIC,CAAAA,QAAQ,CAAGR,WAAW,EAA1B,CAEAF,SAAS,CAAC,UAAM,CACZ,GAAMW,CAAAA,MAAM,CAAGN,WAAW,CAACO,KAAZ,CAAkBF,QAAQ,CAACG,MAA3B,CAAf,CACA,GAAMC,CAAAA,KAAK,CAAGH,MAAM,CAACG,KAAP,CAAeH,MAAM,CAACG,KAAtB,CAA8B,IAA5C,CACA,GAAMC,CAAAA,IAAI,CAAGJ,MAAM,CAACI,IAAP,CAAcJ,MAAM,CAACI,IAArB,CAA4B,IAAzC,CAEA,GAAID,KAAK,EAAIC,IAAb,CAAmB,CACf,GAAMC,CAAAA,SAAS,2FAAG,yJACRZ,CAAAA,mBAAmB,CAACU,KAAD,CAAQC,IAAR,CADX,QAEdN,WAAW,CAAC,IAAD,CAAX,CAFc,sDAAH,kBAATO,CAAAA,SAAS,2CAAf,CAKAA,SAAS,GACZ,CACJ,CAbQ,CAaN,CAACN,QAAD,CAbM,CAAT,CAeA,GAAIF,QAAJ,CACI,mBAAO,KAAC,QAAD,EAAU,EAAE,CAAC,YAAb,EAAP,CACJ,mBACI,YAAK,SAAS,CAAC,uDAAf,uBACI,KAAC,MAAD,EACI,IAAI,CAAC,MADT,CAEI,KAAK,CAAC,SAFV,CAGI,MAAM,CAAE,EAHZ,CAII,KAAK,CAAE,EAJX,EADJ,EADJ,CAUH,CA/BD,CAiCA,cAAeL,CAAAA,OAAO,CAAC,IAAD,CAAO,CAACC,mBAAmB,CAAnBA,mBAAD,CAAP,CAAP,CAAqCG,MAArC,CAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Redirect, useLocation } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { google_authenticate } from '../actions/auth';\r\nimport queryString from 'query-string';\r\nimport Loader from 'react-loader-spinner';\r\n\r\nconst Google = ({ google_authenticate }) => {\r\n    const [redirect, setRedirect] = useState(false);\r\n    let location = useLocation();\r\n\r\n    useEffect(() => {\r\n        const values = queryString.parse(location.search);\r\n        const state = values.state ? values.state : null;\r\n        const code = values.code ? values.code : null;\r\n\r\n        if (state && code) {\r\n            const fetchData = async () => {\r\n                await google_authenticate(state, code);\r\n                setRedirect(true);\r\n            };\r\n\r\n            fetchData();\r\n        }\r\n    }, [location]);\r\n\r\n    if (redirect)\r\n        return <Redirect to='/dashboard' />;\r\n    return (\r\n        <div className='mt-5 d-flex justify-content-center align-items-center'>\r\n            <Loader\r\n                type='Oval'\r\n                color='#424242'\r\n                height={50}\r\n                width={50}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default connect(null, {google_authenticate})(Google);"]},"metadata":{},"sourceType":"module"}