{"ast":null,"code":"import _defineProperty from\"C:/Users/sale1/Desktop/SHOPTIME/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:/Users/sale1/Desktop/SHOPTIME/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/sale1/Desktop/SHOPTIME/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{connect}from'react-redux';import{get_products,get_filtered_products}from'../actions/products';import{get_categories}from'../actions/categories';import Card from'../components/Card';import{prices}from'../helpers/fixedPrices';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Shop=function Shop(_ref){var categories=_ref.categories,get_categories=_ref.get_categories,products=_ref.products,get_products=_ref.get_products,filtered_products=_ref.filtered_products,get_filtered_products=_ref.get_filtered_products;var _useState=useState({category_id:'0',price_range:'Any',sortBy:'date_created',order:'desc'}),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],setFormData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),filtered=_useState4[0],setFiltered=_useState4[1];var category_id=formData.category_id,price_range=formData.price_range,sortBy=formData.sortBy,order=formData.order;useEffect(function(){get_products();get_categories();window.scrollTo(0,0);},[]);var _onChange=function onChange(e){return setFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},e.target.name,e.target.value)));};var _onSubmit=function onSubmit(e){e.preventDefault();window.scrollTo(0,0);get_filtered_products(category_id,price_range,sortBy,order);setFiltered(true);};var showProducts=function showProducts(){var results=[];var display=[];if(filtered_products&&filtered_products!==null&&filtered_products!==undefined&&filtered){filtered_products.map(function(product,index){return display.push(/*#__PURE__*/_jsx(\"div\",{className:\"col-4\",children:/*#__PURE__*/_jsx(Card,{product:product})},index));});}else if(!filtered&&products&&products!==null&&products!==undefined){products.map(function(product,index){return display.push(/*#__PURE__*/_jsx(\"div\",{className:\"col-4\",children:/*#__PURE__*/_jsx(Card,{product:product})},index));});}for(var i=0;i<display.length;i+=3){results.push(/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[display[i]?display[i]:/*#__PURE__*/_jsx(\"div\",{className:\"col-4\"}),display[i+1]?display[i+1]:/*#__PURE__*/_jsx(\"div\",{className:\"col-4\"}),display[i+2]?display[i+2]:/*#__PURE__*/_jsx(\"div\",{className:\"col-4\"})]},i));}return results;};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"jumbotron mt-5\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"display-4\",children:\"Shop Page\"}),/*#__PURE__*/_jsx(\"p\",{className:\"lead\",children:\"Check out our amazing selection of products!\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-2\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"mb-5\",onSubmit:function onSubmit(e){return _onSubmit(e);},children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Categories:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-check\",children:[/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return _onChange(e);},value:'0',name:\"category_id\",type:\"radio\",className:\"form-check-input\",defaultChecked:true}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",children:\"All\"})]}),categories&&categories!==null&&categories!==undefined&&categories.map(function(category){if(category.sub_categories.length===0){return/*#__PURE__*/_jsxs(\"div\",{className:\"form-check\",children:[/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return _onChange(e);},value:category.id.toString(),name:\"category_id\",type:\"radio\",className:\"form-check-input\"}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",children:category.name})]},category.id);}else{var result=[];result.push(/*#__PURE__*/_jsxs(\"div\",{className:\"form-check\",children:[/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return _onChange(e);},value:category.id.toString(),name:\"category_id\",type:\"radio\",className:\"form-check-input\"}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",children:category.name})]},category.id));category.sub_categories.map(function(sub_category){result.push(/*#__PURE__*/_jsxs(\"div\",{className:\"form-check ml-2\",children:[/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return _onChange(e);},value:sub_category.id.toString(),name:\"category_id\",type:\"radio\",className:\"form-check-input\"}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",children:sub_category.name})]},sub_category.id));});return result;}}),/*#__PURE__*/_jsx(\"h5\",{className:\"mt-3\",children:\"Price Range\"}),prices&&prices.map(function(price,index){if(price.id===0){return/*#__PURE__*/_jsxs(\"div\",{className:\"form-check\",children:[/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return _onChange(e);},value:price.name,name:\"price_range\",type:\"radio\",className:\"form-check-input\",defaultChecked:true}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",children:price.name})]},index);}else{return/*#__PURE__*/_jsxs(\"div\",{className:\"form-check\",children:[/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return _onChange(e);},value:price.name,name:\"price_range\",type:\"radio\",className:\"form-check-input\"}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",children:price.name})]},index);}}),/*#__PURE__*/_jsx(\"h5\",{className:\"mt-3\",children:\"Additional Filters:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"sortBy\",children:\"Sort By\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-control\",id:\"sortBy\",name:\"sortBy\",onChange:function onChange(e){return _onChange(e);},value:sortBy,children:[/*#__PURE__*/_jsx(\"option\",{value:\"date_created\",children:\"Date Created\"}),/*#__PURE__*/_jsx(\"option\",{value:\"price\",children:\"Price\"}),/*#__PURE__*/_jsx(\"option\",{value:\"sold\",children:\"Sold\"}),/*#__PURE__*/_jsx(\"option\",{value:\"name\",children:\"Name\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"order\",children:\"Order\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-control\",id:\"order\",name:\"order\",onChange:function onChange(e){return _onChange(e);},value:order,children:[/*#__PURE__*/_jsx(\"option\",{value:\"desc\",children:\"Descending\"}),/*#__PURE__*/_jsx(\"option\",{value:\"asc\",children:\"Ascending\"})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success mt-3\",children:\"Update\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-10\",children:showProducts()})]})]});};var mapStateToProps=function mapStateToProps(state){return{categories:state.categories.categories,products:state.products.products,filtered_products:state.products.filtered_products};};export default connect(mapStateToProps,{get_categories:get_categories,get_products:get_products,get_filtered_products:get_filtered_products})(Shop);","map":{"version":3,"sources":["C:/Users/sale1/Desktop/SHOPTIME/frontend/src/containers/Shop.js"],"names":["React","useState","useEffect","connect","get_products","get_filtered_products","get_categories","Card","prices","Shop","categories","products","filtered_products","category_id","price_range","sortBy","order","formData","setFormData","filtered","setFiltered","window","scrollTo","onChange","e","target","name","value","onSubmit","preventDefault","showProducts","results","display","undefined","map","product","index","push","i","length","category","sub_categories","id","toString","result","sub_category","price","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { get_products, get_filtered_products  } from '../actions/products';\r\nimport { get_categories } from '../actions/categories';\r\nimport Card from '../components/Card';\r\nimport { prices } from '../helpers/fixedPrices';\r\n\r\nconst Shop = ({\r\n    categories,\r\n    get_categories,\r\n    products,\r\n    get_products,\r\n    filtered_products,\r\n    get_filtered_products\r\n}) => {\r\n    const [formData, setFormData] = useState({\r\n        category_id: '0',\r\n        price_range: 'Any',\r\n        sortBy: 'date_created',\r\n        order: 'desc'\r\n    });\r\n\r\n    const [filtered, setFiltered] = useState(false);\r\n    const { \r\n        category_id, \r\n        price_range,\r\n        sortBy,\r\n        order \r\n    } = formData;\r\n\r\n    useEffect(() => {\r\n        get_products();\r\n        get_categories();\r\n        window.scrollTo(0, 0);\r\n    }, []);\r\n\r\n    const onChange = e => setFormData({ ...formData, [e.target.name]: e.target.value });\r\n\r\n    const onSubmit = e => {\r\n        e.preventDefault();\r\n        window.scrollTo(0, 0);\r\n\r\n        get_filtered_products(category_id, price_range, sortBy, order);\r\n        setFiltered(true);\r\n    };\r\n\r\n    const showProducts = () => {\r\n        let results = [];\r\n        let display = [];\r\n\r\n        if (\r\n            filtered_products &&\r\n            filtered_products !== null &&\r\n            filtered_products !== undefined &&\r\n            filtered\r\n        ) {\r\n            filtered_products.map((product, index) => {\r\n                return display.push(\r\n                    <div key={index} className='col-4'>\r\n                        <Card\r\n                            product={product}\r\n                        />\r\n                    </div>\r\n                );\r\n            });\r\n        } else if (\r\n            !filtered &&\r\n            products &&\r\n            products !== null &&\r\n            products !== undefined\r\n        ) {\r\n            products.map((product, index) => {\r\n                return display.push(\r\n                    <div key={index} className='col-4'>\r\n                        <Card\r\n                            product={product}\r\n                        />\r\n                    </div>\r\n                );\r\n            });\r\n        }\r\n\r\n        for (let i = 0; i < display.length; i += 3) {\r\n            results.push (\r\n                <div key={i} className='row'>\r\n                    {display[i] ? display[i] : <div className='col-4'></div>}\r\n                    {display[i+1] ? display[i+1] : <div className='col-4'></div>}\r\n                    {display[i+2] ? display[i+2] : <div className='col-4'></div>}\r\n                </div>\r\n            )\r\n        }\r\n\r\n        return results;\r\n    };\r\n\r\n    return (\r\n        <div className='container'>\r\n            <div className='jumbotron mt-5'>\r\n                <h1 className='display-4'>Shop Page</h1>\r\n                <p className='lead'>\r\n                    Check out our amazing selection of products!\r\n                </p>\r\n            </div>\r\n            <div className='row'>\r\n                <div className='col-2'>\r\n                    <form className='mb-5' onSubmit={e => onSubmit(e)}>\r\n                        <h5>Categories:</h5>\r\n\r\n                        <div className='form-check'>\r\n                            <input\r\n                                onChange={e => onChange(e)}\r\n                                value={'0'}\r\n                                name='category_id'\r\n                                type='radio'\r\n                                className='form-check-input'\r\n                                defaultChecked\r\n                            />\r\n                            <label className='form-check-label'>All</label>\r\n                        </div>\r\n                        {\r\n                            categories &&\r\n                            categories !== null &&\r\n                            categories !== undefined &&\r\n                            categories.map(category => {\r\n                                if (category.sub_categories.length === 0) {\r\n                                    return (\r\n                                        <div key={category.id} className='form-check'>\r\n                                            <input\r\n                                                onChange={e => onChange(e)}\r\n                                                value={category.id.toString()}\r\n                                                name='category_id'\r\n                                                type='radio'\r\n                                                className='form-check-input'\r\n                                            />\r\n                                            <label className='form-check-label'>\r\n                                                {category.name}\r\n                                            </label>\r\n                                        </div>\r\n                                    );\r\n                                } else {\r\n                                    let result = [];\r\n\r\n                                    result.push(\r\n                                        <div key={category.id} className='form-check'>\r\n                                            <input\r\n                                                onChange={e => onChange(e)}\r\n                                                value={category.id.toString()}\r\n                                                name='category_id'\r\n                                                type='radio'\r\n                                                className='form-check-input'\r\n                                            />\r\n                                            <label className='form-check-label'>\r\n                                                {category.name}\r\n                                            </label>\r\n                                        </div>\r\n                                    );\r\n\r\n                                    category.sub_categories.map(sub_category => {\r\n                                        result.push(\r\n                                            <div key={sub_category.id} className='form-check ml-2'>\r\n                                                <input\r\n                                                    onChange={e => onChange(e)}\r\n                                                    value={sub_category.id.toString()}\r\n                                                    name='category_id'\r\n                                                    type='radio'\r\n                                                    className='form-check-input'\r\n                                                />\r\n                                                <label className='form-check-label'>\r\n                                                    {sub_category.name}\r\n                                                </label>\r\n                                            </div>\r\n                                        );\r\n                                    });\r\n\r\n                                    return result;\r\n                                }\r\n                            })\r\n                        }\r\n\r\n                        <h5 className='mt-3'>Price Range</h5>\r\n                        {\r\n                            prices && prices.map((price, index) => {\r\n                                if (price.id === 0) {\r\n                                    return (\r\n                                        <div key={index} className='form-check'>\r\n                                            <input\r\n                                                onChange={e => onChange(e)}\r\n                                                value={price.name}\r\n                                                name='price_range'\r\n                                                type='radio'\r\n                                                className='form-check-input'\r\n                                                defaultChecked\r\n                                            />\r\n                                            <label className='form-check-label'>{price.name}</label>\r\n                                        </div>\r\n                                    )\r\n                                } else {\r\n                                    return (\r\n                                        <div key={index} className='form-check'>\r\n                                            <input\r\n                                                onChange={e => onChange(e)}\r\n                                                value={price.name}\r\n                                                name='price_range'\r\n                                                type='radio'\r\n                                                className='form-check-input'\r\n                                                \r\n                                            />\r\n                                            <label className='form-check-label'>{price.name}</label>\r\n                                        </div>\r\n                                    )\r\n                                }\r\n                            })\r\n                        }\r\n\r\n                        <h5 className='mt-3'>Additional Filters:</h5>\r\n                        <div className='form-group'>\r\n                            <label htmlFor='sortBy'>Sort By</label>\r\n                            <select\r\n                                className='form-control'\r\n                                id='sortBy'\r\n                                name='sortBy'\r\n                                onChange={e => onChange(e)}\r\n                                value={sortBy}\r\n                            >\r\n                                <option value='date_created'>Date Created</option>\r\n                                <option value='price'>Price</option>\r\n                                <option value='sold'>Sold</option>\r\n                                <option value='name'>Name</option>\r\n                            </select>\r\n                        </div>\r\n                        <div className='form-group'>\r\n                            <label htmlFor='order'>Order</label>\r\n                            <select\r\n                                className='form-control'\r\n                                id='order'\r\n                                name='order'\r\n                                onChange={e => onChange(e)}\r\n                                value={order}\r\n                            >\r\n                                <option value='desc'>Descending</option>\r\n                                <option value='asc'>Ascending</option>\r\n                            </select>\r\n                        </div>\r\n\r\n                        <button className='btn btn-success mt-3'>\r\n                            Update\r\n                        </button>\r\n                    </form>\r\n                </div>\r\n                <div className='col-10'>\r\n                    {showProducts()}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    categories: state.categories.categories,\r\n    products: state.products.products,\r\n    filtered_products: state.products.filtered_products\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n    get_categories,\r\n    get_products,\r\n    get_filtered_products\r\n})(Shop);"]},"metadata":{},"sourceType":"module"}