{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/sale1/Desktop/SHOPTIME/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/sale1/Desktop/SHOPTIME/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from'axios';import{GET_PRODUCTS_SUCCESS,GET_PRODUCTS_FAIL,GET_PRODUCTS_BY_ARRIVAL_SUCCESS,GET_PRODUCTS_BY_ARRIVAL_FAIL,GET_PRODUCTS_BY_SOLD_SUCCESS,GET_PRODUCTS_BY_SOLD_FAIL,GET_PRODUCT_SUCCESS,GET_PRODUCT_FAIL,RELATED_PRODUCTS_SUCCESS,RELATED_PRODUCTS_FAIL,FILTER_PRODUCTS_SUCCESS,FILTER_PRODUCTS_FAIL}from'./types';export var get_products=function get_products(){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var config,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:config={headers:{'Accept':'application/json'}};_context.prev=1;_context.next=4;return axios.get(\"\".concat(process.env.REACT_APP_API_URL,\"/api/products/get-products\"),config);case 4:res=_context.sent;if(res.status===200){dispatch({type:GET_PRODUCTS_SUCCESS,payload:res.data});}else{dispatch({type:GET_PRODUCTS_FAIL});}_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);dispatch({type:GET_PRODUCTS_FAIL});case 11:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return function(_x){return _ref.apply(this,arguments);};}();};export var get_products_by_arrival=function get_products_by_arrival(){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var config,res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:config={headers:{'Accept':'application/json'}};_context2.prev=1;_context2.next=4;return axios.get(\"\".concat(process.env.REACT_APP_API_URL,\"/api/products/get-products?sortBy=date_created&order=desc&limit=3\"),config);case 4:res=_context2.sent;if(res.status===200){dispatch({type:GET_PRODUCTS_BY_ARRIVAL_SUCCESS,payload:res.data});}else{dispatch({type:GET_PRODUCTS_BY_ARRIVAL_FAIL});}_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](1);dispatch({type:GET_PRODUCTS_BY_ARRIVAL_FAIL});case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[1,8]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};export var get_products_by_sold=function get_products_by_sold(){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){var config,res;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:config={headers:{'Accept':'application/json'}};_context3.prev=1;_context3.next=4;return axios.get(\"\".concat(process.env.REACT_APP_API_URL,\"/api/products/get-products?sortBy=sold&order=desc&limit=3\"),config);case 4:res=_context3.sent;if(res.status===200){dispatch({type:GET_PRODUCTS_BY_SOLD_SUCCESS,payload:res.data});}else{dispatch({type:GET_PRODUCTS_BY_SOLD_FAIL});}_context3.next=11;break;case 8:_context3.prev=8;_context3.t0=_context3[\"catch\"](1);dispatch({type:GET_PRODUCTS_BY_SOLD_FAIL});case 11:case\"end\":return _context3.stop();}}},_callee3,null,[[1,8]]);}));return function(_x3){return _ref3.apply(this,arguments);};}();};export var get_product=function get_product(productId){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch){var config,res;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:config={headers:{'Accept':'application/json'}};_context4.prev=1;_context4.next=4;return axios.get(\"\".concat(process.env.REACT_APP_API_URL,\"/api/products/product/\").concat(productId),config);case 4:res=_context4.sent;if(res.status===200){dispatch({type:GET_PRODUCT_SUCCESS,payload:res.data});}else{dispatch({type:GET_PRODUCT_FAIL});}_context4.next=11;break;case 8:_context4.prev=8;_context4.t0=_context4[\"catch\"](1);dispatch({type:GET_PRODUCT_FAIL});case 11:case\"end\":return _context4.stop();}}},_callee4,null,[[1,8]]);}));return function(_x4){return _ref4.apply(this,arguments);};}();};export var get_related_products=function get_related_products(productId){return/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(dispatch){var config,res;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:config={headers:{'Accept':'application/json'}};_context5.prev=1;_context5.next=4;return axios.get(\"\".concat(process.env.REACT_APP_API_URL,\"/api/products/related/\").concat(productId),config);case 4:res=_context5.sent;if(res.data.related_products){dispatch({type:RELATED_PRODUCTS_SUCCESS,payload:res.data});}else{dispatch({type:RELATED_PRODUCTS_FAIL});}_context5.next=11;break;case 8:_context5.prev=8;_context5.t0=_context5[\"catch\"](1);dispatch({type:RELATED_PRODUCTS_FAIL});case 11:case\"end\":return _context5.stop();}}},_callee5,null,[[1,8]]);}));return function(_x5){return _ref5.apply(this,arguments);};}();};export var get_filtered_products=function get_filtered_products(category_id,price_range,sort_by,order){return/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(dispatch){var config,body,res;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:config={headers:{'Accept':'application/json','Content-Type':'application/json'}};body=JSON.stringify({category_id:category_id,price_range:price_range,sort_by:sort_by,order:order});_context6.prev=2;_context6.next=5;return axios.post(\"\".concat(process.env.REACT_APP_API_URL,\"/api/products/by/search\"),body,config);case 5:res=_context6.sent;if(res.data.filtered_products){dispatch({type:FILTER_PRODUCTS_SUCCESS,payload:res.data});}else{dispatch({type:FILTER_PRODUCTS_FAIL});}_context6.next=12;break;case 9:_context6.prev=9;_context6.t0=_context6[\"catch\"](2);dispatch({type:FILTER_PRODUCTS_FAIL});case 12:case\"end\":return _context6.stop();}}},_callee6,null,[[2,9]]);}));return function(_x6){return _ref6.apply(this,arguments);};}();};","map":{"version":3,"sources":["C:/Users/sale1/Desktop/SHOPTIME/frontend/src/actions/products.js"],"names":["axios","GET_PRODUCTS_SUCCESS","GET_PRODUCTS_FAIL","GET_PRODUCTS_BY_ARRIVAL_SUCCESS","GET_PRODUCTS_BY_ARRIVAL_FAIL","GET_PRODUCTS_BY_SOLD_SUCCESS","GET_PRODUCTS_BY_SOLD_FAIL","GET_PRODUCT_SUCCESS","GET_PRODUCT_FAIL","RELATED_PRODUCTS_SUCCESS","RELATED_PRODUCTS_FAIL","FILTER_PRODUCTS_SUCCESS","FILTER_PRODUCTS_FAIL","get_products","dispatch","config","headers","get","process","env","REACT_APP_API_URL","res","status","type","payload","data","get_products_by_arrival","get_products_by_sold","get_product","productId","get_related_products","related_products","get_filtered_products","category_id","price_range","sort_by","order","body","JSON","stringify","post","filtered_products"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport {\r\n    GET_PRODUCTS_SUCCESS,\r\n    GET_PRODUCTS_FAIL,\r\n    GET_PRODUCTS_BY_ARRIVAL_SUCCESS,\r\n    GET_PRODUCTS_BY_ARRIVAL_FAIL,\r\n    GET_PRODUCTS_BY_SOLD_SUCCESS,\r\n    GET_PRODUCTS_BY_SOLD_FAIL,\r\n    GET_PRODUCT_SUCCESS,\r\n    GET_PRODUCT_FAIL,\r\n    RELATED_PRODUCTS_SUCCESS,\r\n    RELATED_PRODUCTS_FAIL,\r\n    FILTER_PRODUCTS_SUCCESS,\r\n    FILTER_PRODUCTS_FAIL\r\n} from './types';\r\n\r\nexport const get_products = () => async dispatch => {\r\n    const config = {\r\n        headers: {\r\n            'Accept': 'application/json'\r\n        }\r\n    };\r\n\r\n    try {\r\n        const res = await axios.get(`${process.env.REACT_APP_API_URL}/api/products/get-products`, config);\r\n\r\n        if (res.status === 200) {\r\n            dispatch({\r\n                type: GET_PRODUCTS_SUCCESS,\r\n                payload: res.data\r\n            });\r\n        } else {\r\n            dispatch({\r\n                type: GET_PRODUCTS_FAIL\r\n            });\r\n        }\r\n    } catch (err) {\r\n        dispatch({\r\n            type: GET_PRODUCTS_FAIL\r\n        });\r\n    }\r\n};\r\n\r\nexport const get_products_by_arrival = () => async dispatch => {\r\n    const config = {\r\n        headers: {\r\n            'Accept': 'application/json'\r\n        }\r\n    };\r\n\r\n    try {\r\n        const res = await axios.get(`${process.env.REACT_APP_API_URL}/api/products/get-products?sortBy=date_created&order=desc&limit=3`, config);\r\n\r\n        if (res.status === 200) {\r\n            dispatch({\r\n                type: GET_PRODUCTS_BY_ARRIVAL_SUCCESS,\r\n                payload: res.data\r\n            });\r\n        } else {\r\n            dispatch({\r\n                type: GET_PRODUCTS_BY_ARRIVAL_FAIL\r\n            });\r\n        }\r\n    } catch (err) {\r\n        dispatch({\r\n            type: GET_PRODUCTS_BY_ARRIVAL_FAIL\r\n        });\r\n    }\r\n};\r\n\r\nexport const get_products_by_sold = () => async dispatch => {\r\n    const config = {\r\n        headers: {\r\n            'Accept': 'application/json'\r\n        }\r\n    };\r\n\r\n    try {\r\n        const res = await axios.get(`${process.env.REACT_APP_API_URL}/api/products/get-products?sortBy=sold&order=desc&limit=3`, config);\r\n\r\n        if (res.status === 200) {\r\n            dispatch({\r\n                type: GET_PRODUCTS_BY_SOLD_SUCCESS,\r\n                payload: res.data\r\n            });\r\n        } else {\r\n            dispatch({\r\n                type: GET_PRODUCTS_BY_SOLD_FAIL\r\n            });\r\n        }\r\n    } catch (err) {\r\n        dispatch({\r\n            type: GET_PRODUCTS_BY_SOLD_FAIL\r\n        });\r\n    }\r\n};\r\n\r\nexport const get_product = (productId) => async dispatch => {\r\n    const config = {\r\n        headers: {\r\n            'Accept': 'application/json'\r\n        }\r\n    };\r\n\r\n    try {\r\n        const res = await axios.get(`${process.env.REACT_APP_API_URL}/api/products/product/${productId}`, config);\r\n\r\n        if (res.status === 200) {\r\n            dispatch({\r\n                type: GET_PRODUCT_SUCCESS,\r\n                payload: res.data\r\n            });\r\n        } else {\r\n            dispatch({\r\n                type: GET_PRODUCT_FAIL\r\n            });\r\n        }\r\n    } catch (err) {\r\n        dispatch({\r\n            type: GET_PRODUCT_FAIL\r\n        });\r\n    }\r\n};\r\n\r\n\r\nexport const get_related_products = (productId) => async dispatch => {\r\n    const config = {\r\n        headers: {\r\n            'Accept': 'application/json'\r\n        }\r\n    };\r\n\r\n    try {\r\n        const res = await axios.get(`${process.env.REACT_APP_API_URL}/api/products/related/${productId}`, config);\r\n\r\n        if (res.data.related_products) {\r\n            dispatch({\r\n                type: RELATED_PRODUCTS_SUCCESS,\r\n                payload: res.data\r\n            });\r\n        } else {\r\n            dispatch({\r\n                type: RELATED_PRODUCTS_FAIL\r\n            });\r\n        }\r\n    } catch (err) {\r\n        dispatch({\r\n            type: RELATED_PRODUCTS_FAIL\r\n        });\r\n    }\r\n};\r\n\r\n\r\nexport const get_filtered_products = (category_id, price_range, sort_by, order) => async dispatch => {\r\n    const config = {\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n        }\r\n    };\r\n\r\n    const body = JSON.stringify({\r\n        category_id,\r\n        price_range,\r\n        sort_by,\r\n        order\r\n    });\r\n\r\n    try {\r\n        const res = await axios.post(`${process.env.REACT_APP_API_URL}/api/products/by/search`, body, config);\r\n\r\n        if (res.data.filtered_products) {\r\n            dispatch({\r\n                type: FILTER_PRODUCTS_SUCCESS,\r\n                payload: res.data\r\n            });\r\n        } else {\r\n            dispatch({\r\n                type: FILTER_PRODUCTS_FAIL\r\n            });\r\n        }\r\n    } catch (err) {\r\n        dispatch({\r\n            type: FILTER_PRODUCTS_FAIL\r\n        });\r\n    }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}