{"ast":null,"code":"import _slicedToArray from\"C:/Users/sale1/Desktop/SHOPTIME/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Redirect}from'react-router-dom';import{connect}from'react-redux';import{get_product,get_related_products}from'../actions/products';import{add_item,get_items,get_total,get_item_total}from'../actions/cart';import Card from'../components/Card';import ProductDetailCard from'../components/ProductDetailCard';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProductDetail=function ProductDetail(_ref){var match=_ref.match,product=_ref.product,get_product=_ref.get_product,related_products=_ref.related_products,get_related_products=_ref.get_related_products,add_item=_ref.add_item,get_items=_ref.get_items,get_total=_ref.get_total,get_item_total=_ref.get_item_total;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),redirect=_useState2[0],setRedirect=_useState2[1];useEffect(function(){window.scrollTo(0,0);var productId=match.params.id;get_product(productId);get_related_products(productId);},[match.params.id]);var getRelatedProducts=function getRelatedProducts(){if(related_products&&related_products!==null&&related_products!==undefined&&related_products.length!==0){return related_products.map(function(product,index){return/*#__PURE__*/_jsx(\"div\",{className:\"col-4\",children:/*#__PURE__*/_jsx(Card,{product:product,add_item:add_item,get_items:get_items,get_total:get_total,get_item_total:get_item_total,setRedirect:setRedirect})},index);});}};if(redirect)return/*#__PURE__*/_jsx(Redirect,{to:\"/cart-or-continue-shopping\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-5\",children:[/*#__PURE__*/_jsx(ProductDetailCard,{product:product,add_item:add_item,get_items:get_items,get_total:get_total,get_item_total:get_item_total,setRedirect:setRedirect}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"section\",{className:\"mt-5\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"mt-5\",children:\"Related Products:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row mt-5 ml-5 mr-5\",children:getRelatedProducts()})]})]});};var mapStateToProps=function mapStateToProps(state){return{product:state.products.product,related_products:state.products.related_products};};export default connect(mapStateToProps,{get_product:get_product,get_related_products:get_related_products,add_item:add_item,get_items:get_items,get_total:get_total,get_item_total:get_item_total})(ProductDetail);","map":{"version":3,"sources":["C:/Users/sale1/Desktop/SHOPTIME/frontend/src/containers/ProductDetail.js"],"names":["React","useState","useEffect","Redirect","connect","get_product","get_related_products","add_item","get_items","get_total","get_item_total","Card","ProductDetailCard","ProductDetail","match","product","related_products","redirect","setRedirect","window","scrollTo","productId","params","id","getRelatedProducts","undefined","length","map","index","mapStateToProps","state","products"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { \r\n    get_product, \r\n    get_related_products \r\n} from '../actions/products';\r\nimport {\r\n    add_item,\r\n    get_items,\r\n    get_total,\r\n    get_item_total\r\n} from '../actions/cart';\r\nimport Card from '../components/Card';\r\nimport ProductDetailCard from '../components/ProductDetailCard';\r\n\r\nconst ProductDetail = ({ \r\n    match, \r\n    product, \r\n    get_product,\r\n    related_products,\r\n    get_related_products,\r\n    add_item,\r\n    get_items,\r\n    get_total,\r\n    get_item_total\r\n}) => {\r\n    const [redirect, setRedirect] = useState(false);\r\n\r\n    useEffect(() => {\r\n        window.scrollTo(0, 0);\r\n        const productId = match.params.id;\r\n\r\n        get_product(productId);\r\n        get_related_products(productId);\r\n    }, [match.params.id]);\r\n\r\n    const getRelatedProducts = () => {\r\n        if (\r\n            related_products &&\r\n            related_products !== null && \r\n            related_products !== undefined &&\r\n            related_products.length !== 0\r\n        ) {\r\n            return related_products.map((product, index) => (\r\n                <div key={index} className='col-4'>\r\n                    <Card\r\n                        product={product}\r\n                        add_item={add_item}\r\n                        get_items={get_items}\r\n                        get_total={get_total}\r\n                        get_item_total={get_item_total}\r\n                        setRedirect={setRedirect}\r\n                    />\r\n                </div>\r\n            ))\r\n        }\r\n    };\r\n\r\n    if (redirect)\r\n        return <Redirect to='/cart-or-continue-shopping' />;\r\n\r\n    return (\r\n        <div className='container mt-5'>\r\n            <ProductDetailCard\r\n                product={product}\r\n                add_item={add_item}\r\n                get_items={get_items}\r\n                get_total={get_total}\r\n                get_item_total={get_item_total}\r\n                setRedirect={setRedirect}\r\n            />\r\n\r\n            <hr />\r\n\r\n            <section className='mt-5'>\r\n                <h2 className='mt-5'>Related Products:</h2>\r\n                <div className='row mt-5 ml-5 mr-5'>\r\n                    {getRelatedProducts()}\r\n                </div>\r\n            </section>\r\n        </div>\r\n    )\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    product: state.products.product,\r\n    related_products: state.products.related_products\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n    get_product,\r\n    get_related_products,\r\n    add_item,\r\n    get_items,\r\n    get_total,\r\n    get_item_total\r\n})(ProductDetail);"]},"metadata":{},"sourceType":"module"}